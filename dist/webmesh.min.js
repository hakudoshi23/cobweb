$(function(){var t=GL.create();$("#mycontainer").append(t.canvas),t.animate();var e={};e.primitive=t.TRIANGLES,e.model=mat4.create(),e.mesh=GL.Mesh.cube();var a=mat4.create(),o=mat4.create(),r=mat4.create(),m=mat4.create(),i=mat4.create();mat4.perspective(a,45*DEG2RAD,t.canvas.width/t.canvas.height,.1,1e3),mat4.lookAt(o,[0,10,10],[0,0,0],[0,1,0]);var c=new Shader("precision highp float;\t\tattribute vec3 a_vertex;\t\tattribute vec3 a_normal;\t\tvarying vec3 v_normal;\t\tuniform mat4 u_mvp;\t\tuniform mat4 u_model;\t\tvoid main() {\t\t\tv_normal = (u_model * vec4(a_normal,0.0)).xyz;\t\t\tgl_Position = u_mvp * vec4(a_vertex,1.0);\t\t}","precision highp float;\t\tvarying vec3 v_normal;\t\tuniform vec3 u_lightvector;\t\tuniform vec4 u_color;\t\tvoid main() {\t\t  vec3 N = normalize(v_normal);\t\t  gl_FragColor = u_color * max(0.0, dot(u_lightvector,N));\t\t}");t.clearColor(.1,.1,.1,1),t.enable(t.DEPTH_TEST);var v={u_color:[1,1,1,1],u_lightvector:vec3.normalize(vec3.create(),[1,1,1]),u_model:r,u_mvp:m};t.ondraw=function(){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),mat4.multiply(i,o,e.model),mat4.multiply(m,a,i),v.u_model=e.model,c.uniforms(v).draw(e.mesh,e.primitive)},t.onupdate=function(t){mat4.rotateY(e.model,e.model,.2*t)}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYm1lc2guanMiXSwibmFtZXMiOlsiJCIsImdsIiwiR0wiLCJjcmVhdGUiLCJhcHBlbmQiLCJjYW52YXMiLCJhbmltYXRlIiwib2JqZWN0IiwicHJpbWl0aXZlIiwiVFJJQU5HTEVTIiwibW9kZWwiLCJtYXQ0IiwibWVzaCIsIk1lc2giLCJjdWJlIiwicHJvaiIsInZpZXciLCJtdnAiLCJ0ZW1wIiwicGVyc3BlY3RpdmUiLCJERUcyUkFEIiwid2lkdGgiLCJoZWlnaHQiLCJsb29rQXQiLCJzaGFkZXIiLCJTaGFkZXIiLCJjbGVhckNvbG9yIiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsInVuaWZvcm1zIiwidV9jb2xvciIsInVfbGlnaHR2ZWN0b3IiLCJ2ZWMzIiwibm9ybWFsaXplIiwidV9tb2RlbCIsInVfbXZwIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBQSxXQUNBLEdBQUFDLEdBQUFDLEdBQUFDLFFBQ0FILEdBQUEsZ0JBQUFJLE9BQUFILEVBQUFJLFFBRUFKLEVBQUFLLFNBRUEsSUFBQUMsS0FDQUEsR0FBQUMsVUFBQVAsRUFBQVEsVUFDQUYsRUFBQUcsTUFBQUMsS0FBQVIsU0FDQUksRUFBQUssS0FBQVYsR0FBQVcsS0FBQUMsTUFFQSxJQUFBQyxHQUFBSixLQUFBUixTQUNBYSxFQUFBTCxLQUFBUixTQUNBTyxFQUFBQyxLQUFBUixTQUNBYyxFQUFBTixLQUFBUixTQUNBZSxFQUFBUCxLQUFBUixRQUVBUSxNQUFBUSxZQUFBSixFQUFBLEdBQUFLLFFBQUFuQixFQUFBSSxPQUFBZ0IsTUFBQXBCLEVBQUFJLE9BQUFpQixPQUFBLEdBQUEsS0FDQVgsS0FBQVksT0FBQVAsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FFQSxJQUFBUSxHQUFBLEdBQUFDLFFBQ0Esb1JBbUJBLGtPQWlCQXhCLEdBQUF5QixXQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0F6QixFQUFBMEIsT0FBQTFCLEVBQUEyQixXQUVBLElBQUFDLElBQ0FDLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQUMsY0FBQUMsS0FBQUMsVUFBQUQsS0FBQTdCLFVBQUEsRUFBQSxFQUFBLElBQ0ErQixRQUFBeEIsRUFDQXlCLE1BQUFsQiIsImZpbGUiOiJ3ZWJtZXNoLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBnbCA9IEdMLmNyZWF0ZSgpO1xyXG4gICAgJCgnI215Y29udGFpbmVyJykuYXBwZW5kKGdsLmNhbnZhcyk7XHJcblxyXG4gICAgZ2wuYW5pbWF0ZSgpO1xyXG5cclxuICAgIHZhciBvYmplY3QgPSB7fTtcclxuXHRvYmplY3QucHJpbWl0aXZlID0gZ2wuVFJJQU5HTEVTO1xyXG5cdG9iamVjdC5tb2RlbCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICBvYmplY3QubWVzaCA9IEdMLk1lc2guY3ViZSgpO1xyXG5cclxuXHR2YXIgcHJvaiA9IG1hdDQuY3JlYXRlKCk7XHJcblx0dmFyIHZpZXcgPSBtYXQ0LmNyZWF0ZSgpO1xyXG5cdHZhciBtb2RlbCA9IG1hdDQuY3JlYXRlKCk7XHJcblx0dmFyIG12cCA9IG1hdDQuY3JlYXRlKCk7XHJcblx0dmFyIHRlbXAgPSBtYXQ0LmNyZWF0ZSgpO1xyXG5cclxuXHRtYXQ0LnBlcnNwZWN0aXZlKHByb2osIDQ1ICogREVHMlJBRCwgZ2wuY2FudmFzLndpZHRoIC8gZ2wuY2FudmFzLmhlaWdodCwgMC4xLCAxMDAwKTtcclxuXHRtYXQ0Lmxvb2tBdCh2aWV3LCBbMCwxMCwxMF0sWzAsMCwwXSwgWzAsMSwwXSk7XHJcblxyXG5cdHZhciBzaGFkZXIgPSBuZXcgU2hhZGVyKFxyXG4gICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxcclxuXHRcdGF0dHJpYnV0ZSB2ZWMzIGFfdmVydGV4O1xcXHJcblx0XHRhdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXFxyXG5cdFx0dmFyeWluZyB2ZWMzIHZfbm9ybWFsO1xcXHJcblx0XHR1bmlmb3JtIG1hdDQgdV9tdnA7XFxcclxuXHRcdHVuaWZvcm0gbWF0NCB1X21vZGVsO1xcXHJcblx0XHR2b2lkIG1haW4oKSB7XFxcclxuXHRcdFx0dl9ub3JtYWwgPSAodV9tb2RlbCAqIHZlYzQoYV9ub3JtYWwsMC4wKSkueHl6O1xcXHJcblx0XHRcdGdsX1Bvc2l0aW9uID0gdV9tdnAgKiB2ZWM0KGFfdmVydGV4LDEuMCk7XFxcclxuXHRcdH0nLFxyXG4gICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxcclxuXHRcdHZhcnlpbmcgdmVjMyB2X25vcm1hbDtcXFxyXG5cdFx0dW5pZm9ybSB2ZWMzIHVfbGlnaHR2ZWN0b3I7XFxcclxuXHRcdHVuaWZvcm0gdmVjNCB1X2NvbG9yO1xcXHJcblx0XHR2b2lkIG1haW4oKSB7XFxcclxuXHRcdCAgdmVjMyBOID0gbm9ybWFsaXplKHZfbm9ybWFsKTtcXFxyXG5cdFx0ICBnbF9GcmFnQ29sb3IgPSB1X2NvbG9yICogbWF4KDAuMCwgZG90KHVfbGlnaHR2ZWN0b3IsTikpO1xcXHJcblx0XHR9J1xyXG4gICAgKTtcclxuXHJcblx0Z2wuY2xlYXJDb2xvcigwLjEsIDAuMSwgMC4xLCAxKTtcclxuXHRnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcblxyXG5cdHZhciB1bmlmb3JtcyA9IHtcclxuXHRcdHVfY29sb3I6IFsxLCAxLCAxLCAxXSxcclxuXHRcdHVfbGlnaHR2ZWN0b3I6IHZlYzMubm9ybWFsaXplKHZlYzMuY3JlYXRlKCksWzEsIDEsIDFdKSxcclxuXHRcdHVfbW9kZWw6IG1vZGVsLFxyXG5cdFx0dV9tdnA6IG12cFxyXG5cdH07XHJcblxyXG5cdGdsLm9uZHJhdyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Z2wuY2xlYXIoIGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUICk7XHJcblxyXG4gICAgICAgIG1hdDQubXVsdGlwbHkodGVtcCx2aWV3LG9iamVjdC5tb2RlbCk7XHJcbiAgICAgICAgbWF0NC5tdWx0aXBseShtdnAscHJvaiwgdGVtcCk7XHJcblxyXG4gICAgICAgIHVuaWZvcm1zLnVfbW9kZWwgPSBvYmplY3QubW9kZWw7XHJcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zKHVuaWZvcm1zKS5kcmF3KG9iamVjdC5tZXNoLCBvYmplY3QucHJpbWl0aXZlKTtcclxuXHR9O1xyXG5cclxuXHRnbC5vbnVwZGF0ZSA9IGZ1bmN0aW9uKGR0KSB7XHJcblx0XHRtYXQ0LnJvdGF0ZVkob2JqZWN0Lm1vZGVsLCBvYmplY3QubW9kZWwsIGR0ICogMC4yKTtcclxuXHR9O1xyXG59KTtcclxuIl19
