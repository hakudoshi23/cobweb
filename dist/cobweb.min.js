!function(){"use strict";function e(e){a(e||{},i);var t=new XMLHttpRequest;if(t.onreadystatechange=function(){4==this.readyState&&(200==this.status?e.success&&e.success(this.response):e.error&&error.success(this.response))},"GET"===e.method){var n=o(e.data),r=e.url+(n?"?"+n:"");t.open(e.method,r,e.async),t.send()}else"POST"===e.method&&(t.open(e.method,e.url,e.async),t.send(e.data));return t}function t(e,t,n){return Ajax.ajax({url:e,data:t,success:n,method:"GET"})}function n(e,t,n){return Ajax.ajax({url:e,data:t,success:function(e){n(JSON.parse(e))},method:"GET"})}function r(e,t,n){return Ajax.ajax({url:e,data:t,success:n,method:"POST"})}function o(e){var t="";for(var n in e){var r=n+"="+encodeURIComponent(e[n]);t+="&"+r}return t.slice(1)}function a(e,t){for(var n in t)if(n&&t.hasOwnProperty(n)){var r=t[n];"object"==typeof r?e[n]?a(e[n],r):e[n]=r:"undefined"==typeof e[n]&&(e[n]=r)}}var i={method:"GET",url:"",data:{},async:!0,success:null,error:null};window.Ajax={ajax:e,get:t,getJSON:n,post:r}}(),function(){"use strict";function e(e,t,n){e[t]||(e[t]=n)}e(Array.prototype,"unique",function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e}),e(Array.prototype,"forEach",function(e){for(var t=0;t<this.length;t++)e(this[t],t,this)})}(),function(){"use strict";function e(e,t,n){e[t]||(e[t]=n)}function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}e(HTMLElement.prototype,"addClass",function(){var e,t;for(var n in arguments)e=this.className?this.className.trim().replace(/\s+/g," ").split(" "):[],t=arguments[n]?arguments[n].trim().replace(/\s+/g," ").split(" "):[],this.className=e.concat(t).unique().join(" ")}),e(HTMLElement.prototype,"hasClass",function(){var e,t=this.className?this.className.trim().replace(/\s+/g," ").split(" "):[];for(var n in arguments){e=arguments[n]?arguments[n].trim().replace(/\s+/g," ").split(" "):[];for(var r=0;r<e.length;r++){var o=e[r];if(t.indexOf(o)==-1)return!1}}return!0}),e(HTMLElement.prototype,"removeClass",function(){var e,t,n=0,r=function(t){n=e.indexOf(t),n!=-1&&e.splice(n,1)};for(var o in arguments)e=this.className?this.className.trim().replace(/\s+/g," ").split(" "):[],t=arguments[o]?arguments[o].trim().replace(/\s+/g," ").split(" "):[],t.forEach(r),this.className=e.unique().join(" ")}),e(HTMLElement.prototype,"data",function(e,t){window.__data_cache||(window.__data_cache=new WeakMap);var n=window.__data_cache.get(this)||{};return void 0===t?e?n&&n[e]:n:(n[e]=t,window.__data_cache.set(this,n),this)}),e(HTMLElement.prototype,"setData",function(e){return window.__data_cache||(window.__data_cache=new WeakMap),window.__data_cache.set(this,e),this}),e(HTMLElement.prototype,"attr",function(e,t){if(void 0!==t)this.setAttribute(e,t);else{if(null!==t)return this.getAttribute(e);this.removeAttribute(e)}return this}),e(HTMLElement.prototype,"attrData",function(e,t){return this.attr("data-"+e,t)}),e(Element.prototype,"matches",Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),e(HTMLElement.prototype,"parent",function(e){if(!e)return this.parentElement;for(var t=this.parentElement;!t.matches(e);)t=t.parentElement;return t}),e(HTMLElement.prototype,"height",function(){if(1!=arguments.length)return this.clientHeight;var e=arguments[0];"number"==typeof e?this.style.height=e+"px":this.style.height=e}),e(HTMLElement.prototype,"width",function(){if(1!=arguments.length)return this.clientWidth;var e=arguments[0];"number"==typeof e?this.style.width=e+"px":this.style.width=e}),e(window,"guid",function(){return"GUID-"+t()+"-"+t()+"-"+t()}),e(HTMLElement.prototype,"guid",function(){var e=null,t=null;do e=window.guid(),t=document.querySelector("#"+e);while(t);return this.attr("id",e),e})}(),function(){"use strict";function e(e,t,n){e[t]||(e[t]=n)}function t(e,n){for(var r in n)if(r&&n.hasOwnProperty(r)){var o=n[r];"object"==typeof o?e[r]?t(e[r],o):e[r]=o:"undefined"==typeof e[r]&&(e[r]=o)}}e(Object,"clone",function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"==typeof r?t[n]=Object.clone(e[n]):t[n]=e[n]}return t}),window.extend=t}(),function(){"use strict";var e=function(e,t){this.data=t||{},this.parent=e,this.children=[]};window.TreeNode=e,e.prototype.isRoot=function(){return!this.parent},e.prototype.add=function(e){var t=new this.constructor(this,e);return this.children.push(t),t},e.prototype.remove=function(e){return this.children.slice(e,1),this},e.prototype.dfs=function(e){for(var t=[],n=0;n<this.children.length;n++)(!e||e&&e(this.children[n]))&&t.push(this.children[n]),t.concat(this.children[n].dfs(e));return t},e.prototype.bfs=function(e){var t,n=[];for(t=0;t<this.children.length;t++)(!e||e&&e(this.children[t]))&&n.push(this.children[t]);for(t=0;t<this.children.length;t++)n.concat(this.children[t].bfs(e));return n},e.extend=function(t){var n=function(t,n){e.call(this,t,n)};return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,extend(n.prototype,t),new n(null)}}(),function(){"use strict";var e=function(){this.listeners={}};e.prototype.trigger=function(){var e=arguments[0],t=this.listeners[e]||[];Array.prototype.splice.call(arguments,0,1),console.debug(e,arguments);for(var n=0;n<t.length;n++)t[n].apply(null,arguments)},e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e){delete this.listeners[e]},e.prototype.off=function(e,t){if(this.listeners[e]){var n=this.listeners[e];n.indexOf(t)>-1&&n.splice(index,1)}},window.EventHandler=e}(),function(){"use strict";var e=function(t){this.handlers=[],this.addHandler(this.level.ALL,function(t,n){e.prototype.level.DEBUG===t?console.debug.apply(this,n):e.prototype.level.INFO===t?console.info.apply(this,n):e.prototype.level.WARNING===t?console.warn.apply(this,n):e.prototype.level.ERROR===t&&console.error.apply(this,n)})};e.prototype.debug=function(){this.log(e.prototype.level.DEBUG,arguments)},e.prototype.info=function(){this.log(e.prototype.level.INFO,arguments)},e.prototype.warning=function(){this.log(e.prototype.level.WARNING,arguments)},e.prototype.error=function(){this.log(e.prototype.level.ERROR,arguments)},e.prototype.log=function(e,t){for(var n=e,r=this.handlers[n]||[];n>=0;)r.forEach(function(n){n(e,t)}),r=this.handlers[--n]||[]},e.prototype.addHandler=function(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},e.prototype.removeHandler=function(e,t){var n=this.handlers[e];if(n){var r=n.indexOf(t);r>-1&&n.splice(r,1)}},e.prototype.level={ALL:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4,NONE:5},window.Logger=e}(),function(){"use strict";var e={container:{selector:"#cobweb",className:"cb-container"}},t=function(n){if(this.options=n||{},extend(this.options,e),this.container=document.querySelector(this.options.container.selector),!this.container)throw new Error("Invalid container selector: '"+this.options.container.selector+"'");this.container.addClass(this.options.container.className),this.container.data("instance",this),this.logger=new Logger(this,!0),this.events=new EventHandler(this),t.prototype.modules.load(this),this.events.trigger("app.loaded")};window.Cobweb=t}(),function(){"use strict";function e(e){for(var t in e){var n=e[t];if(n.dependant||(n.dependant=[]),n.dependencies.length>0)for(var r=0;r<n.dependencies.length;r++){var o=e[n.dependencies[r]];o.dependant||(o.dependant=[]),o.dependant.push(t)}}}function t(e,t){var r=[],o=[];for(var a in t)0===t[a].dependencies.length&&r.push(a);for(;r.length>0;){var i=r[0];if(r.splice(0,1),t[i]){var s=t[i];o.push(i);for(var c=0;c<s.dependant.length;c++){var u=s.dependant[c];n(o,t[u])&&r.push(u)}}else e.events.trigger("modules.error.missing",i),e.logger.warning("Missing module '"+i+"'")}return Object.keys(t).length!==o.length&&(e.events.trigger("modules.error.cycle"),e.logger.error("Dependency cycle found in modules")),o}function n(e,t){for(var n=0;n<t.dependencies.length;n++)if(e.indexOf(t.dependencies[n])===-1)return!1;return!0}Cobweb.prototype.modules={all:{},add:function(e,t,n){n=n||[],this.all[e]={dependencies:n,init:t}},load:function(n){this.instance=n,e(this.all);for(var r=t(n,this.all),o=0;o<r.length;o++){var a=r[o];try{this.all[a].init(n),n.events.trigger("modules.loaded",a)}catch(e){n.logger.error("Loading module "+a,e),n.events.trigger("modules.error",a,e)}}n.events.trigger("modules.loaded.all",r)}}}(),function(){"use strict";function e(e,n){var r=t();e.append(r)}function t(){var e=document.createElement("div");return e.className="pane-header",e}Cobweb.prototype.modules.add("pane-header",function(t){t.events.on("pane.create",function(n){e(n,t)})},["pane-types"])}(),function(){"use strict";Cobweb.prototype.modules.add("pane-types",function(e){var t={all:{},add:function(e,t){this.all[e]=t},get:function(e){return this.all[e]},remove:function(e){delete this.all[e]},has:function(e){return!!this.all[e]}};e.events.on("pane.split",function(t,n){var r=t.attrData("pane-type");r&&e.pane.setType(n,r)}),e.pane.types=t,e.pane.setType=function(t,n){if(this.types.has(n)){var r=this.types.get(n);r.onPaneType(t,e);var o=t.querySelector(".pane-header");r.onCreateHeader(o,e),t.dataset.paneType=n}},e.pane.getType=function(e){return e.dataset.paneType}},["pane"])}(),function(){"use strict";Cobweb.prototype.modules.add("pane",function(e){function t(t){e.events.trigger("pane.create",t)}function n(t,n){e.events.trigger("pane.split",t,n)}function r(t){e.events.trigger("pane.resize",t)}e.events.on("app.loaded",function(){e.pane.internal=new Pane({container:e.options.container.selector,separator:{size:3},callbacks:{onPaneCreate:t,onPaneSplit:n,onPaneResize:r}});var o=e.pane.internal.container.querySelector(".pane");e.pane.setType(o,"surface")}),e.pane={}})}(),function(){"use strict";Cobweb.prototype.modules.add("interaction-mode",function(e){e.surface.interaction={all:{},add:function(e,t){this.all[e]=t},get:function(e){return this.all[e]},remove:function(e){delete this.all[e]},has:function(e){return!!this.all[e]}}},["surface"])}(),function(){"use strict";Cobweb.prototype.modules.add("render-modes",function(e){e.surface.renders={all:{},add:function(e,t){this.all[e]=t},get:function(e){return this.all[e]},remove:function(e){delete this.all[e]},has:function(e){return!!this.all[e]}}},["surface"])}(),function(){"use strict";function e(e,t){var o=document.createElement("canvas");o.id="surface"+r++,o.className="surface",e.append(o),t.surface.map=t.surface.map||{},t.surface.map[o.id]={},t.surface.map[o.id].surface={proj:mat4.create(),center:[0,0,0],rotation:[.9,-.4],distance:10,getViewMatrix:function(e){var t=[0,0,0];this.getCameraPosition(t),mat4.lookAt(e,t,this.center,[0,1,0])},getCameraPosition:function(e){e[2]=-this.distance,vec3.rotateX(e,e,this.rotation[1]),vec3.rotateY(e,e,-this.rotation[0]),vec3.add(e,e,this.center)}},n(t,e),t.events.trigger("surface.create",o)}function t(e,t){var n=document.createElement("label");n.innerHTML="Surface Pane",e.appendChild(n)}function n(e,t){var n=t.querySelector("canvas"),r=n.getContext("2d"),o=e.surface.map[n.id],a=t.querySelector(".pane-header"),i=a?a.height():0,s=t.width(),c=t.height()-i;o.imgData=r.createImageData(s,c),o.buffer=new Uint8Array(s*c*4),n.height=c,n.width=s,mat4.perspective(o.surface.proj,45*DEG2RAD,s/c,.1,1e3)}var r=0;Cobweb.prototype.modules.add("surface",function(r){r.pane.types.add("surface",{onPaneType:e,onCreateHeader:t}),r.events.on("pane.resize",function(e){"surface"===e.attrData("pane-type")&&n(r,e)}),window.addEventListener("resize",function(e){for(var t=r.pane.internal.container.querySelectorAll(".pane canvas"),o=0;o<t.length;o++)n(r,t[o].parentNode)}),r.surface={}},["pane-types"])}(),function(){"use strict";function e(e,t,n){t&&(e[0]=t[0]+.005*n[0],e[1]=t[1]+.005*n[1])}function t(e,t){return e?[e[0]-t[0],e[1]-t[1]]:[0,0]}var n=null,r=null;Cobweb.prototype.modules.add("common-interaction",function(o){o.surface.interaction.add("common",{onMouseWheel:function(e,t){var n=e.target,r=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),a=o.surface.map[n.id];return a.surface.distance-=r,!0},onMouseMove:function(a,i){if(a.target.dataset.moving){var s=a.target,c=o.surface.map[s.id];if(c){var u=t(r,i);e(c.surface.rotation,n,u)}}return!1},onMouseDown:function(e,t){if(2===e.which){e.target.dataset.moving="true";var a=e.target,i=o.surface.map[a.id];n=i.surface.rotation.slice(),r=t}return!0},onMouseUp:function(a,i){if(2===a.which){delete a.target.dataset.moving;var s=a.target,c=o.surface.map[s.id],u=t(r,i);e(c.surface.rotation,n,u),r=null}return!0},onClick:function(e,t){return!0}})},["surface-interaction"])}(),function(){"use strict";Cobweb.prototype.modules.add("object-interaction",function(e){e.surface.interaction.add("object",{onMouseWheel:function(e,t){return!0},onMouseMove:function(e,t){return!0},onMouseDown:function(e,t){return!0},onMouseUp:function(e,t){return!0},onClick:function(e,t){return!0}}),e.events.on("surface.create",function(t){e.surface.setInteraction(t,"object")})},["surface-interaction"])}(),function(){"use strict";function e(e,n){var r=t(n);switch(n.type){case"mousewheel":return e.onMouseWheel(n,r);case"mousemove":return e.onMouseMove(n,r);case"mousedown":return e.onMouseDown(n,r);case"mouseup":return e.onMouseUp(n,r);case"click":return e.onClick(n,r)}}function t(e){var t;return t=e.pageX||e.pageY?[e.pageX,e.pageY]:[e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.clientY+document.body.scrollTop+document.documentElement.scrollTop],t[0]-=e.target.offsetLeft,t[1]-=e.target.offsetTop,t}Cobweb.prototype.modules.add("surface-interaction",function(t){function n(n){var r=t.surface.getInteraction(n.target),o=e(r,n);if(o){var a=t.surface.interaction.get("common");e(a,n)}}t.surface.setInteraction=function(e,n){var r=t.surface.interaction;r.has(n)&&e.attrData("surface-interaction",n)},t.surface.getInteraction=function(e){var n=t.surface.interaction,r=e.attrData("surface-interaction");return n.get(r)},t.events.on("surface.create",function(e){e.onmousewheel=n,e.onmousemove=n,e.onmousedown=n,e.onmouseup=n,e.onclick=n}),t.events.on("pane.split",function(e,t){t.attrData("surface-interaction",e.attrData("surface-interaction"))})},["interaction-mode"])}(),function(){"use strict";Cobweb.prototype.modules.add("render-solid",function(e){var t=new Shader("precision highp float;attribute vec3 a_vertex;attribute vec3 a_normal;varying vec3 v_normal;uniform mat4 u_mvp;uniform mat4 u_model;void main() {    v_normal = (u_model * vec4(a_normal,0.0)).xyz;    gl_Position = u_mvp * vec4(a_vertex,1.0);}","precision highp float;varying vec3 v_normal;uniform vec3 u_lightvector;uniform vec4 u_color;void main() {  vec3 N = normalize(v_normal);  vec4 ambient = vec4(0.4, 0.4, 0.4, 1);  gl_FragColor = ambient + u_color * max(0.0, dot(u_lightvector,N));}"),n=mat4.create(),r=mat4.create(),o={u_color:[.7,.7,.7,1],u_lightvector:null,u_model:null,u_mvp:r};e.surface.renders.add("solid",function(a){for(var i=e.scene.root.dfs(),s=0;s<i.length;s++){var c=i[s].data;if("object"===c.type){var u=vec3.create();a.getCameraPosition(u),vec3.add(u,u,[1,2,0]),vec3.normalize(u,u),o.u_lightvector=u,a.getViewMatrix(n),mat4.multiply(n,n,c.model),mat4.multiply(r,a.proj,n),o.u_model=c.model,t.uniforms(o).draw(c.mesh,c.primitive)}}}),e.events.on("surface.create",function(t){e.surface.setRender(t,"solid")})},["surface-render"])}(),function(){"use strict";Cobweb.prototype.modules.add("surface-render",function(e){e.surface.setRender=function(t,n){var r=e.surface.renders;r.has(n)&&t.attrData("render",n)},e.surface.getRender=function(t){var n=e.surface.renders,r=t.attrData("render");return n.get(r)};for(var t=document.querySelectorAll(".pane"),n=0;n<t.length;n++)if("surface"==t[n].dataset.paneType){var r=t[n].querySelector("canvas");r.dataset.render="solid"}e.events.on("pane.split",function(e,t){t.attrData("surface-render",e.attrData("surface-render"))})},["render-modes"])}(),function(){"use strict";function e(e,t){var n=e.surface.map[t.id],r=e.graphics.gl,o=t.clientWidth,a=t.clientHeight;r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.viewport(0,0,o,a);var i=e.surface.getRender(t);i&&i(n.surface);var s=t.getContext("2d");s&&(r.readPixels(0,0,o,a,r.RGBA,r.UNSIGNED_BYTE,n.buffer),n.imgData.data.set(n.buffer),s.putImageData(n.imgData,0,0))}var t=function(t){this.gl=GL.create({height:screen.height,width:screen.width}),this.gl.animate(),this.gl.ondraw=function(){for(var n=document.querySelectorAll("canvas"),r=0;r<n.length;r++)e(t,n[r])},this.gl.clearColor(.349,.349,.349,1),this.gl.enable(this.gl.DEPTH_TEST)};Cobweb.prototype.modules.add("graphics",function(e){e.graphics=new t(e)})}(),function(){"use strict";Cobweb.prototype.modules.add("scene",function(e){e.scene={root:TreeNode.extend({})},e.scene.root.add({type:"object",primitive:e.graphics.gl.TRIANGLES,mesh:GL.Mesh.cube(),model:mat4.create()}),e.scene.root.add({type:"object",primitive:e.graphics.gl.LINES,mesh:GL.Mesh.grid({lines:17,size:8}),model:mat4.create()}),e.scene.root.add({type:"ligth",color:[1,1,1],intensity:1})},["graphics"])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXguanMiLCJhcnJheS5qcyIsImh0bWwuanMiLCJvYmouanMiLCJ0cmVlLmpzIiwiZXZlbnRzLmpzIiwibG9nZ2VyLmpzIiwiY29id2ViLmpzIiwibW9kdWxlcy5qcyIsInBhbmUvcGFuZS1oZWFkZXIuanMiLCJwYW5lL3BhbmUtdHlwZXMuanMiLCJwYW5lL3BhbmVzLmpzIiwicGFuZS9zdXJmYWNlL2ludGVyYWN0aW9uLW1vZGVzLmpzIiwicGFuZS9zdXJmYWNlL3JlbmRlci1tb2Rlcy5qcyIsInBhbmUvc3VyZmFjZS9zdXJmYWNlLmpzIiwicGFuZS9zdXJmYWNlL2ludGVyYWN0aW9uL2NvbW1vbi1pbnRlcmFjdGlvbi5qcyIsInBhbmUvc3VyZmFjZS9pbnRlcmFjdGlvbi9vYmplY3QtaW50ZXJhY3Rpb24uanMiLCJwYW5lL3N1cmZhY2UvaW50ZXJhY3Rpb24vc3VyZmFjZS1pbnRlcmFjdGlvbi5qcyIsInBhbmUvc3VyZmFjZS9yZW5kZXIvcmVuZGVyLXNvbGlkLmpzIiwicGFuZS9zdXJmYWNlL3JlbmRlci9zdXJmYWNlLXJlbmRlci5qcyIsImdyYXBoaWMuanMiLCJzY2VuZS5qcyJdLCJuYW1lcyI6WyJhamF4Iiwib3B0aW9ucyIsIl9leHRlbmQiLCJkZWZhdWx0QWpheE9wdGlvbnMiLCJ4aHR0cCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwidGhpcyIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJlcnJvciIsIm1ldGhvZCIsInBhcmFtcyIsIm9ialRvUGFyYW1zIiwiZGF0YSIsInVybFdpdGhQYXJhbXMiLCJ1cmwiLCJvcGVuIiwiYXN5bmMiLCJzZW5kIiwiZ2V0IiwiQWpheCIsImdldEpTT04iLCJKU09OIiwicGFyc2UiLCJwb3N0Iiwib2JqIiwia2V5IiwibmV4dFBhcmFtIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2xpY2UiLCJkZWZhdWx0cyIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInZhbHVlIiwid2luZG93Iiwic2FmZUV4dGVuZCIsInByb3RvdHlwZSIsInByb3BlcnR5IiwiQXJyYXkiLCJhIiwiY29uY2F0IiwiaSIsImxlbmd0aCIsImoiLCJzcGxpY2UiLCJjYWxsYmFjayIsInM0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJIVE1MRWxlbWVudCIsIm9sZENsYXNzTmFtZXMiLCJuZXdDbGFzc05hbWVzIiwiYXJndW1lbnRzIiwiY2xhc3NOYW1lIiwidHJpbSIsInJlcGxhY2UiLCJzcGxpdCIsInVuaXF1ZSIsImpvaW4iLCJxdWVyeUNsYXNzTmFtZXMiLCJjdXJyZW50Q2xhc3NOYW1lcyIsImluZGV4IiwibmFtZSIsImluZGV4T2YiLCJyZW1vdmVDbGFzc05hbWVzIiwicmVtb3ZlRWFjaCIsImZvckVhY2giLCJhdHRyIiwiX19kYXRhX2NhY2hlIiwiV2Vha01hcCIsImVsQXR0cnMiLCJ1bmRlZmluZWQiLCJzZXQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJFbGVtZW50IiwibWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwicyIsIm1hdGNoZXMiLCJkb2N1bWVudCIsIm93bmVyRG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXRlbSIsInF1ZXJ5IiwicGFyZW50RWxlbWVudCIsImN1cnJlbnQiLCJjbGllbnRIZWlnaHQiLCJzdHlsZSIsImhlaWdodCIsImNsaWVudFdpZHRoIiwid2lkdGgiLCJndWlkIiwib3ZlcmxhcCIsInF1ZXJ5U2VsZWN0b3IiLCJPYmplY3QiLCJuZXdPYmoiLCJjbG9uZSIsImV4dGVuZCIsIlRyZWVOb2RlIiwicGFyZW50IiwiY2hpbGRyZW4iLCJpc1Jvb3QiLCJhZGQiLCJjaGlsZCIsImNvbnN0cnVjdG9yIiwicHVzaCIsInJlbW92ZSIsImRmcyIsImNoZWNrIiwib3V0IiwiYmZzIiwiX1RyZWVOb2RlIiwiY2FsbCIsImNyZWF0ZSIsIkV2ZW50SGFuZGxlciIsImxpc3RlbmVycyIsInRyaWdnZXIiLCJjb25zb2xlIiwiZGVidWciLCJhcHBseSIsIm9uIiwib2ZmIiwiYXJyYXkiLCJMb2dnZXIiLCJpbnN0YW5jZSIsImhhbmRsZXJzIiwiYWRkSGFuZGxlciIsImxldmVsIiwiQUxMIiwiYXJncyIsIkRFQlVHIiwiSU5GTyIsImluZm8iLCJXQVJOSU5HIiwid2FybiIsIkVSUk9SIiwibG9nIiwid2FybmluZyIsInRtcCIsImxldmVsSGFuZGxlcnMiLCJoYW5kbGVyIiwicmVtb3ZlSGFuZGxlciIsIk5PTkUiLCJkZWZhdWx0T3B0aW9ucyIsImNvbnRhaW5lciIsInNlbGVjdG9yIiwiQ29id2ViIiwiRXJyb3IiLCJhZGRDbGFzcyIsImxvZ2dlciIsImV2ZW50cyIsIm1vZHVsZXMiLCJsb2FkIiwiYWRkUmV2ZXJzZURlcGVuZGVuY2llcyIsIm1vZHVsZSIsImRlcGVuZGFudCIsImRlcGVuZGVuY2llcyIsImRlcFBsdWdpbiIsInRvcG9sb2dpY2FsU29ydCIsImNhbmRpZGF0ZXMiLCJzb3J0ZWROYW1lcyIsIm5leHROYW1lIiwiZGVwTmFtZSIsImFsbERlcGVuZGVuY2llc01ldCIsImtleXMiLCJsb2FkZWRVbnRpbE5vdyIsImFsbCIsImluaXQiLCJleCIsIm9uQ3JlYXRlQ2FsbGJhY2siLCJwYW5lIiwiaGVhZGVyIiwiY3JlYXRlSGVhZGVyIiwiYXBwZW5kIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsInBhbmVUeXBlcyIsImNhbGxiYWNrcyIsImhhcyIsIm9sZFBhbmUiLCJuZXdQYW5lIiwib2xkVHlwZSIsImF0dHJEYXRhIiwic2V0VHlwZSIsInR5cGVzIiwidHlwZUNhbGxiYWNrcyIsIm9uUGFuZVR5cGUiLCJwYW5lSGVhZGVyIiwib25DcmVhdGVIZWFkZXIiLCJkYXRhc2V0IiwicGFuZVR5cGUiLCJnZXRUeXBlIiwib25QYW5lQ3JlYXRlIiwib25QYW5lU3BsaXQiLCJvcmlnaW4iLCJvblBhbmVSZXNpemUiLCJpbnRlcm5hbCIsIlBhbmUiLCJzZXBhcmF0b3IiLCJzaXplIiwicm9vdCIsInN1cmZhY2UiLCJpbnRlcmFjdGlvbiIsInJlbmRlcnMiLCJvblN1cmZhY2VQYW5lVHlwZSIsImNhbnZhcyIsImlkIiwic3VyZmFjZUluZGV4IiwibWFwIiwicHJvaiIsIm1hdDQiLCJjZW50ZXIiLCJyb3RhdGlvbiIsImRpc3RhbmNlIiwiZ2V0Vmlld01hdHJpeCIsInZpZXciLCJleWUiLCJnZXRDYW1lcmFQb3NpdGlvbiIsImxvb2tBdCIsInZlYzMiLCJyb3RhdGVYIiwicm90YXRlWSIsInVwZGF0ZUNhbnZhc1NpemUiLCJvbkNyZWF0ZVN1cmZhY2VIZWFkZXIiLCJsYWJlbCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiY29udGV4dCIsImdldENvbnRleHQiLCJoZWFkZXJIZWlnaHQiLCJpbWdEYXRhIiwiY3JlYXRlSW1hZ2VEYXRhIiwiYnVmZmVyIiwiVWludDhBcnJheSIsInBlcnNwZWN0aXZlIiwiREVHMlJBRCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInN1cmZhY2VzIiwicGFyZW50Tm9kZSIsImNvbWJpbmUiLCJ0YXJnZXQiLCJvcmlnaW5hbFJvdGF0aW9uIiwiZGVsdGEiLCJnZXRDb29yZHNEZWx0YSIsImluaXRpYWwiLCJtb3VzZURvd25Db29yZHMiLCJvbk1vdXNlV2hlZWwiLCJyZWFsQ29vcmRzIiwibWF4IiwibWluIiwid2hlZWxEZWx0YSIsImRldGFpbCIsIm9uTW91c2VNb3ZlIiwibW92aW5nIiwib25Nb3VzZURvd24iLCJ3aGljaCIsIm9uTW91c2VVcCIsIm9uQ2xpY2siLCJzZXRJbnRlcmFjdGlvbiIsInJ1bkNhbGxiYWNrIiwiZ2V0TG9jYWxDb29yZGluYXRlcyIsInR5cGUiLCJjb29yZGluYXRlcyIsInBhZ2VYIiwicGFnZVkiLCJjbGllbnRYIiwiYm9keSIsInNjcm9sbExlZnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRZIiwic2Nyb2xsVG9wIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9uU3VyZmFjZUV2ZW50IiwiZ2V0SW50ZXJhY3Rpb24iLCJrZWVwUnVubmluZyIsImNvbW1vbiIsImludGVyYWN0aW9ucyIsIm9ubW91c2V3aGVlbCIsIm9ubW91c2Vtb3ZlIiwib25tb3VzZWRvd24iLCJvbm1vdXNldXAiLCJvbmNsaWNrIiwic2hhZGVyIiwiU2hhZGVyIiwidGVtcCIsIm12cCIsInVuaWZvcm1zIiwidV9jb2xvciIsInVfbGlnaHR2ZWN0b3IiLCJ1X21vZGVsIiwidV9tdnAiLCJvYmpzIiwic2NlbmUiLCJsaWdodERpcmVjdGlvbiIsIm5vcm1hbGl6ZSIsIm11bHRpcGx5IiwibW9kZWwiLCJkcmF3IiwibWVzaCIsInByaW1pdGl2ZSIsInNldFJlbmRlciIsImdldFJlbmRlciIsInBhbmVzIiwicmVuZGVyIiwiZHJhd1JlbmRlclRhcmdldCIsImdsIiwiZ3JhcGhpY3MiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwidmlld3BvcnQiLCJyZWFkUGl4ZWxzIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJwdXRJbWFnZURhdGEiLCJHcmFwaGljcyIsIkdMIiwic2NyZWVuIiwiYW5pbWF0ZSIsIm9uZHJhdyIsInJlbmRlclRhcmdldHMiLCJjbGVhckNvbG9yIiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsIlRSSUFOR0xFUyIsIk1lc2giLCJjdWJlIiwiTElORVMiLCJncmlkIiwibGluZXMiLCJjb2xvciIsImludGVuc2l0eSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQVdBLFNBQUFBLEdBQUFDLEdBQ0FDLEVBQUFELE1BQUFFLEVBQ0EsSUFBQUMsR0FBQSxHQUFBQyxlQVVBLElBVEFELEVBQUFFLG1CQUFBLFdBQ0EsR0FBQUMsS0FBQUMsYUFDQSxLQUFBRCxLQUFBRSxPQUNBUixFQUFBUyxTQUFBVCxFQUFBUyxRQUFBSCxLQUFBSSxVQUVBVixFQUFBVyxP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QUFBLFFBQUEsU0FBQXNCLEdBQ0FBLEVBQUEwSyxPQUNBOUYsS0FBQXRHLFNBQUFELFlBR0EyQixFQUFBMEssTUFBQTlGLEtBQUFsRyxLQUNBZ0ssS0FBQSxTQUNBdUMsVUFBQWpMLEVBQUF3TCxTQUFBRCxHQUFBbUIsVUFDQTFCLEtBQUFrQixHQUFBUyxLQUFBQyxPQUNBOUIsTUFBQXhGLEtBQUFqRyxXQUVBVyxFQUFBMEssTUFBQTlGLEtBQUFsRyxLQUNBZ0ssS0FBQSxTQUNBdUMsVUFBQWpMLEVBQUF3TCxTQUFBRCxHQUFBc0IsTUFDQTdCLEtBQUFrQixHQUFBUyxLQUFBRyxNQUNBQyxNQUFBLEdBQ0FwSSxLQUFBLElBRUFtRyxNQUFBeEYsS0FBQWpHLFdBRUFXLEVBQUEwSyxNQUFBOUYsS0FBQWxHLEtBQ0FnSyxLQUFBLFFBQ0FzRSxPQUFBLEVBQUEsRUFBQSxHQUNBQyxVQUFBLE1BRUEiLCJmaWxlIjoiY29id2ViLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIigoZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgZGVmYXVsdEFqYXhPcHRpb25zID0ge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgdXJsOiAnJyxcclxuICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICBhc3luYzogdHJ1ZSxcclxuICAgICAgICBzdWNjZXNzOiBudWxsLFxyXG4gICAgICAgIGVycm9yOiBudWxsXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFqYXggKG9wdGlvbnMpIHtcclxuICAgICAgICBfZXh0ZW5kKG9wdGlvbnMgfHwge30sIGRlZmF1bHRBamF4T3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2Vzcyh0aGlzLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IpIGVycm9yLnN1Y2Nlc3ModGhpcy5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChvcHRpb25zLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG9ialRvUGFyYW1zKG9wdGlvbnMuZGF0YSk7XHJcbiAgICAgICAgICAgIHZhciB1cmxXaXRoUGFyYW1zID0gb3B0aW9ucy51cmwgKyAocGFyYW1zID8gJz8nICsgcGFyYW1zIDogJycpO1xyXG4gICAgICAgICAgICB4aHR0cC5vcGVuKG9wdGlvbnMubWV0aG9kLCB1cmxXaXRoUGFyYW1zLCBvcHRpb25zLmFzeW5jKTtcclxuICAgICAgICAgICAgeGh0dHAuc2VuZCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgICAgICAgICB4aHR0cC5vcGVuKG9wdGlvbnMubWV0aG9kLCBvcHRpb25zLnVybCwgb3B0aW9ucy5hc3luYyk7XHJcbiAgICAgICAgICAgIHhodHRwLnNlbmQob3B0aW9ucy5kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHhodHRwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldCAodXJsLCBkYXRhLCBzdWNjZXNzKSB7XHJcbiAgICAgICAgcmV0dXJuIEFqYXguYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SlNPTiAodXJsLCBkYXRhLCBzdWNjZXNzKSB7XHJcbiAgICAgICAgcmV0dXJuIEFqYXguYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoSlNPTi5wYXJzZShyZXNwb25zZSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcG9zdCAodXJsLCBkYXRhLCBzdWNjZXNzKSB7XHJcbiAgICAgICAgcmV0dXJuIEFqYXguYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5BamF4ID0ge1xyXG4gICAgICAgIGFqYXg6IGFqYXgsXHJcbiAgICAgICAgZ2V0OiBnZXQsXHJcbiAgICAgICAgZ2V0SlNPTjogZ2V0SlNPTixcclxuICAgICAgICBwb3N0OiBwb3N0XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIG9ialRvUGFyYW1zIChvYmopIHtcclxuICAgICAgICB2YXIgcGFyYW1zID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgICB2YXIgbmV4dFBhcmFtID0ga2V5ICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtrZXldKTtcclxuICAgICAgICAgICAgcGFyYW1zICs9ICcmJyArIG5leHRQYXJhbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5zbGljZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfZXh0ZW5kKG9wdGlvbnMsIGRlZmF1bHRzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgICAgICBpZiAocHJvcCAmJiBkZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVmYXVsdHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmQob3B0aW9uc1twcm9wXSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zW3Byb3BdID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCkpO1xyXG4iLCIoKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgc2FmZUV4dGVuZChBcnJheS5wcm90b3R5cGUsICd1bmlxdWUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgYSA9IHRoaXMuY29uY2F0KCk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIGZvcih2YXIgaiA9IGkgKyAxOyBqIDwgYS5sZW5ndGg7ICsrailcclxuICAgICAgICAgICAgICAgIGlmKGFbaV0gPT09IGFbal0pIGEuc3BsaWNlKGotLSwgMSk7XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzYWZlRXh0ZW5kKEFycmF5LnByb3RvdHlwZSwgJ2ZvckVhY2gnLCBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgY2FsbGJhY2sodGhpc1tpXSwgaSwgdGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYWZlRXh0ZW5kKHByb3RvdHlwZSwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYoIXByb3RvdHlwZVtwcm9wZXJ0eV0pIHByb3RvdHlwZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuICAgIH1cclxufSkoKSk7XHJcbiIsIigoZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBzYWZlRXh0ZW5kKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ2FkZENsYXNzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBvbGRDbGFzc05hbWVzLCBuZXdDbGFzc05hbWVzO1xyXG4gICAgICAgIGZvcih2YXIgaSBpbiBhcmd1bWVudHMpe1xyXG4gICAgICAgICAgICBvbGRDbGFzc05hbWVzID0gIXRoaXMuY2xhc3NOYW1lID8gW10gOiB0aGlzLmNsYXNzTmFtZS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIG5ld0NsYXNzTmFtZXMgPSAhYXJndW1lbnRzW2ldID8gW10gOiBhcmd1bWVudHNbaV0udHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IG9sZENsYXNzTmFtZXMuY29uY2F0KG5ld0NsYXNzTmFtZXMpLnVuaXF1ZSgpLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBzYWZlRXh0ZW5kKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ2hhc0NsYXNzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBxdWVyeUNsYXNzTmFtZXMsIGN1cnJlbnRDbGFzc05hbWVzID0gIXRoaXMuY2xhc3NOYW1lID8gW10gOiB0aGlzLmNsYXNzTmFtZS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZm9yKHZhciBpIGluIGFyZ3VtZW50cyl7XHJcbiAgICAgICAgICAgIHF1ZXJ5Q2xhc3NOYW1lcyA9ICFhcmd1bWVudHNbaV0gPyBbXSA6IGFyZ3VtZW50c1tpXS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBxdWVyeUNsYXNzTmFtZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHF1ZXJ5Q2xhc3NOYW1lc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENsYXNzTmFtZXMuaW5kZXhPZihuYW1lKSA9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzYWZlRXh0ZW5kKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ3JlbW92ZUNsYXNzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IDAsIGN1cnJlbnRDbGFzc05hbWVzLCByZW1vdmVDbGFzc05hbWVzO1xyXG4gICAgICAgIHZhciByZW1vdmVFYWNoID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgaW5kZXggPSBjdXJyZW50Q2xhc3NOYW1lcy5pbmRleE9mKG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2xhc3NOYW1lcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yKHZhciBpIGluIGFyZ3VtZW50cyl7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDbGFzc05hbWVzID0gIXRoaXMuY2xhc3NOYW1lID8gW10gOiB0aGlzLmNsYXNzTmFtZS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzTmFtZXMgPSAhYXJndW1lbnRzW2ldID8gW10gOiBhcmd1bWVudHNbaV0udHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICByZW1vdmVDbGFzc05hbWVzLmZvckVhY2gocmVtb3ZlRWFjaCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gY3VycmVudENsYXNzTmFtZXMudW5pcXVlKCkuam9pbignICcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHNhZmVFeHRlbmQoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnZGF0YScsIGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICghd2luZG93Ll9fZGF0YV9jYWNoZSkgd2luZG93Ll9fZGF0YV9jYWNoZSA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgICAgICAgdmFyIGVsQXR0cnMgPSB3aW5kb3cuX19kYXRhX2NhY2hlLmdldCh0aGlzKSB8fCB7fTtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBlbEF0dHJzW2F0dHJdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHdpbmRvdy5fX2RhdGFfY2FjaGUuc2V0KHRoaXMsIGVsQXR0cnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChhdHRyKSByZXR1cm4gZWxBdHRycyAmJiBlbEF0dHJzW2F0dHJdO1xyXG4gICAgICAgICAgICBlbHNlIHJldHVybiBlbEF0dHJzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0pO1xyXG5cclxuICAgIHNhZmVFeHRlbmQoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnc2V0RGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cuX19kYXRhX2NhY2hlKSB3aW5kb3cuX19kYXRhX2NhY2hlID0gbmV3IFdlYWtNYXAoKTtcclxuICAgICAgICB3aW5kb3cuX19kYXRhX2NhY2hlLnNldCh0aGlzLCBkYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0pO1xyXG5cclxuICAgIHNhZmVFeHRlbmQoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnYXR0cicsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IG51bGwpXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2FmZUV4dGVuZChIVE1MRWxlbWVudC5wcm90b3R5cGUsICdhdHRyRGF0YScsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2RhdGEtJyArIG5hbWUsIHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNhZmVFeHRlbmQoRWxlbWVudC5wcm90b3R5cGUsICdtYXRjaGVzJyxcclxuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICBmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxyXG4gICAgICAgICAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB3aGlsZSAoLS1pID49IDAgJiYgbWF0Y2hlcy5pdGVtKGkpICE9PSB0aGlzKSB7fVxyXG4gICAgICAgICAgICByZXR1cm4gaSA+IC0xO1xyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgc2FmZUV4dGVuZChIVE1MRWxlbWVudC5wcm90b3R5cGUsICdwYXJlbnQnLCBmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgICAgICBpZiAoIXF1ZXJ5KSByZXR1cm4gdGhpcy5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIHdoaWxlICghY3VycmVudC5tYXRjaGVzKHF1ZXJ5KSlcclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgIH0pO1xyXG5cclxuICAgIHNhZmVFeHRlbmQoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnaGVpZ2h0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcclxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHZhbHVlO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRIZWlnaHQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzYWZlRXh0ZW5kKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ3dpZHRoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcclxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSB2YWx1ZSArICdweCc7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSB2YWx1ZTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50V2lkdGg7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzYWZlRXh0ZW5kKHdpbmRvdywgJ2d1aWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICdHVUlELScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzYWZlRXh0ZW5kKEhUTUxFbGVtZW50LnByb3RvdHlwZSwgJ2d1aWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGd1aWQgPSBudWxsLCBvdmVybGFwID0gbnVsbDtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGd1aWQgPSB3aW5kb3cuZ3VpZCgpO1xyXG4gICAgICAgICAgICBvdmVybGFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBndWlkKTtcclxuICAgICAgICB9IHdoaWxlKG92ZXJsYXApO1xyXG4gICAgICAgIHRoaXMuYXR0cignaWQnLCBndWlkKTtcclxuICAgICAgICByZXR1cm4gZ3VpZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNhZmVFeHRlbmQocHJvdG90eXBlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgICAgICBpZighcHJvdG90eXBlW3Byb3BlcnR5XSkgcHJvdG90eXBlW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHM0KCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcclxuICAgIH1cclxufSkoKSk7XHJcbiIsIigoZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBzYWZlRXh0ZW5kKE9iamVjdCwgJ2Nsb25lJywgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHZhciBuZXdPYmogPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmopXHJcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3T2JqW3Byb3BlcnR5XSA9IE9iamVjdC5jbG9uZShvYmpbcHJvcGVydHldKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBuZXdPYmpbcHJvcGVydHldID0gb2JqW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdPYmo7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzYWZlRXh0ZW5kKHByb3RvdHlwZSwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYoIXByb3RvdHlwZVtwcm9wZXJ0eV0pIHByb3RvdHlwZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZXh0ZW5kID0gX2V4dGVuZDtcclxuXHJcbiAgICBmdW5jdGlvbiBfZXh0ZW5kKG9wdGlvbnMsIGRlZmF1bHRzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0cykge1xyXG4gICAgICAgICAgICBpZiAocHJvcCAmJiBkZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVmYXVsdHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9leHRlbmQob3B0aW9uc1twcm9wXSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zW3Byb3BdID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCkpO1xyXG4iLCIoKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgVHJlZU5vZGUgPSBmdW5jdGlvbiAocGFyZW50LCBkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YSB8fCB7fTtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5UcmVlTm9kZSA9IFRyZWVOb2RlO1xyXG5cclxuICAgIFRyZWVOb2RlLnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLnBhcmVudDtcclxuICAgIH07XHJcblxyXG4gICAgVHJlZU5vZGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcywgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9O1xyXG5cclxuICAgIFRyZWVOb2RlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgVHJlZU5vZGUucHJvdG90eXBlLmRmcyA9IGZ1bmN0aW9uIChjaGVjaykge1xyXG4gICAgICAgIHZhciBvdXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCFjaGVjayB8fCAoY2hlY2sgJiYgY2hlY2sodGhpcy5jaGlsZHJlbltpXSkpKVxyXG4gICAgICAgICAgICAgICAgb3V0LnB1c2godGhpcy5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgIG91dC5jb25jYXQodGhpcy5jaGlsZHJlbltpXS5kZnMoY2hlY2spKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH07XHJcblxyXG4gICAgVHJlZU5vZGUucHJvdG90eXBlLmJmcyA9IGZ1bmN0aW9uIChjaGVjaykge1xyXG4gICAgICAgIHZhciBvdXQgPSBbXSwgaTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgaWYgKCFjaGVjayB8fCAoY2hlY2sgJiYgY2hlY2sodGhpcy5jaGlsZHJlbltpXSkpKVxyXG4gICAgICAgICAgICAgICAgb3V0LnB1c2godGhpcy5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIG91dC5jb25jYXQodGhpcy5jaGlsZHJlbltpXS5iZnMoY2hlY2spKTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfTtcclxuXHJcbiAgICBUcmVlTm9kZS5leHRlbmQgPSBmdW5jdGlvbiAoZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgX1RyZWVOb2RlID0gZnVuY3Rpb24gKHBhcmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICBUcmVlTm9kZS5jYWxsKHRoaXMsIHBhcmVudCwgZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfVHJlZU5vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShUcmVlTm9kZS5wcm90b3R5cGUpO1xyXG4gICAgICAgIF9UcmVlTm9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBfVHJlZU5vZGU7XHJcbiAgICAgICAgZXh0ZW5kKF9UcmVlTm9kZS5wcm90b3R5cGUsIGRlZmF1bHRzKTtcclxuICAgICAgICByZXR1cm4gbmV3IF9UcmVlTm9kZShudWxsKTtcclxuICAgIH07XHJcbn0pKCkpO1xyXG4iLCIoKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcclxuICAgIH07XHJcblxyXG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG5hbWUgPSBhcmd1bWVudHNbMF07XHJcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW25hbWVdIHx8IFtdO1xyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDAsIDEpO1xyXG4gICAgICAgIGNvbnNvbGUuZGVidWcobmFtZSwgYXJndW1lbnRzKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnNbbmFtZV0pIHRoaXMubGlzdGVuZXJzW25hbWVdID0gW107XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbbmFtZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9O1xyXG5cclxuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1tuYW1lXTtcclxuICAgIH07XHJcblxyXG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1tuYW1lXSkge1xyXG4gICAgICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLmxpc3RlbmVyc1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKGFycmF5LmluZGV4T2YoY2FsbGJhY2spID4gLTEpIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuRXZlbnRIYW5kbGVyID0gRXZlbnRIYW5kbGVyO1xyXG59KSgpKTtcclxuIiwiLyoganNoaW50IGxvb3BmdW5jOnRydWUgKi9cclxuXHJcbigoZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTG9nZ2VyID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEhhbmRsZXIodGhpcy5sZXZlbC5BTEwsIGZ1bmN0aW9uIChsZXZlbCwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAoTG9nZ2VyLnByb3RvdHlwZS5sZXZlbC5ERUJVRyA9PT0gbGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTG9nZ2VyLnByb3RvdHlwZS5sZXZlbC5JTkZPID09PSBsZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKExvZ2dlci5wcm90b3R5cGUubGV2ZWwuV0FSTklORyA9PT0gbGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybi5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChMb2dnZXIucHJvdG90eXBlLmxldmVsLkVSUk9SID09PSBsZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubG9nKExvZ2dlci5wcm90b3R5cGUubGV2ZWwuREVCVUcsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxvZyhMb2dnZXIucHJvdG90eXBlLmxldmVsLklORk8sIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIExvZ2dlci5wcm90b3R5cGUud2FybmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxvZyhMb2dnZXIucHJvdG90eXBlLmxldmVsLldBUk5JTkcsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5sb2coTG9nZ2VyLnByb3RvdHlwZS5sZXZlbC5FUlJPUiwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAobGV2ZWwsIGFyZ3MpIHtcclxuICAgICAgICB2YXIgdG1wID0gbGV2ZWw7XHJcbiAgICAgICAgdmFyIGxldmVsSGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW3RtcF0gfHwgW107XHJcbiAgICAgICAgd2hpbGUgKHRtcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxldmVsSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcihsZXZlbCwgYXJncyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXZlbEhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1stLXRtcF0gfHwgW107XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmFkZEhhbmRsZXIgPSBmdW5jdGlvbiAobGV2ZWwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhhbmRsZXJzW2xldmVsXSlcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyc1tsZXZlbF0gPSBbXTtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzW2xldmVsXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5yZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGxldmVsLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBsZXZlbEhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tsZXZlbF07XHJcbiAgICAgICAgaWYgKGxldmVsSGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGV2ZWxIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICBsZXZlbEhhbmRsZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmxldmVsID0ge1xyXG4gICAgICAgIEFMTDogMCxcclxuICAgICAgICBERUJVRzogMSxcclxuICAgICAgICBJTkZPOiAyLFxyXG4gICAgICAgIFdBUk5JTkc6IDMsXHJcbiAgICAgICAgRVJST1I6IDQsXHJcbiAgICAgICAgTk9ORTogNSxcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LkxvZ2dlciA9IExvZ2dlcjtcclxufSkoKSk7XHJcbiIsIihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgICBjb250YWluZXI6IHtcclxuICAgICAgICAgICAgc2VsZWN0b3I6ICcjY29id2ViJyxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnY2ItY29udGFpbmVyJ1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENvYndlYiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICBleHRlbmQodGhpcy5vcHRpb25zLCBkZWZhdWx0T3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuY29udGFpbmVyLnNlbGVjdG9yKTtcclxuICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29udGFpbmVyIHNlbGVjdG9yOiBcXCcnICtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIuc2VsZWN0b3IgKyAnXFwnJyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNvbnRhaW5lci5jbGFzc05hbWUpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmRhdGEoJ2luc3RhbmNlJywgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbmV3IExvZ2dlcih0aGlzLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXIodGhpcyk7XHJcbiAgICAgICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmxvYWQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcignYXBwLmxvYWRlZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuQ29id2ViID0gQ29id2ViO1xyXG59KCkpO1xyXG4iLCIoKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBDb2J3ZWIucHJvdG90eXBlLm1vZHVsZXMgPSB7XHJcbiAgICAgICAgYWxsOiB7fSxcclxuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChuYW1lLCBpbml0LCBkZXBlbmRlbmNpZXMpIHtcclxuICAgICAgICAgICAgZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzIHx8IFtdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbGxbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmNpZXM6IGRlcGVuZGVuY2llcyxcclxuICAgICAgICAgICAgICAgIGluaXQ6IGluaXRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGFkZFJldmVyc2VEZXBlbmRlbmNpZXModGhpcy5hbGwpO1xyXG4gICAgICAgICAgICB2YXIgc29ydGVkTmFtZXMgPSB0b3BvbG9naWNhbFNvcnQoaW5zdGFuY2UsIHRoaXMuYWxsKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWROYW1lcy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gc29ydGVkTmFtZXNbaV07XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsW25hbWVdLmluaXQoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmV2ZW50cy50cmlnZ2VyKCdtb2R1bGVzLmxvYWRlZCcsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5sb2dnZXIuZXJyb3IoJ0xvYWRpbmcgbW9kdWxlICcgKyBuYW1lLCBleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZXZlbnRzLnRyaWdnZXIoJ21vZHVsZXMuZXJyb3InLCBuYW1lLCBleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuZXZlbnRzLnRyaWdnZXIoJ21vZHVsZXMubG9hZGVkLmFsbCcsIHNvcnRlZE5hbWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJldmVyc2VEZXBlbmRlbmNpZXMgKG1vZHVsZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIG1vZHVsZXMpIHtcclxuICAgICAgICAgICAgdmFyIG1vZHVsZSA9IG1vZHVsZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmICghbW9kdWxlLmRlcGVuZGFudCkgbW9kdWxlLmRlcGVuZGFudCA9IFtdO1xyXG4gICAgICAgICAgICBpZiAobW9kdWxlLmRlcGVuZGVuY2llcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5kZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwUGx1Z2luID0gbW9kdWxlc1ttb2R1bGUuZGVwZW5kZW5jaWVzW2ldXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRlcFBsdWdpbi5kZXBlbmRhbnQpIGRlcFBsdWdpbi5kZXBlbmRhbnQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBkZXBQbHVnaW4uZGVwZW5kYW50LnB1c2gobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9wb2xvZ2ljYWxTb3J0IChpbnN0YW5jZSwgbW9kdWxlcykge1xyXG4gICAgICAgIHZhciBjYW5kaWRhdGVzID0gW10sIHNvcnRlZE5hbWVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBtb2R1bGVzKVxyXG4gICAgICAgICAgICBpZiAobW9kdWxlc1tuYW1lXS5kZXBlbmRlbmNpZXMubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKG5hbWUpO1xyXG4gICAgICAgIHdoaWxlIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIG5leHROYW1lID0gY2FuZGlkYXRlc1swXTtcclxuICAgICAgICAgICAgY2FuZGlkYXRlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgIGlmIChtb2R1bGVzW25leHROYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZHVsZSA9IG1vZHVsZXNbbmV4dE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgc29ydGVkTmFtZXMucHVzaChuZXh0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5kZXBlbmRhbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwTmFtZSA9IG1vZHVsZS5kZXBlbmRhbnRbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbERlcGVuZGVuY2llc01ldChzb3J0ZWROYW1lcywgbW9kdWxlc1tkZXBOYW1lXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChkZXBOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmV2ZW50cy50cmlnZ2VyKCdtb2R1bGVzLmVycm9yLm1pc3NpbmcnLCBuZXh0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5sb2dnZXIud2FybmluZygnTWlzc2luZyBtb2R1bGUgXFwnJyArIG5leHROYW1lICsgJ1xcJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtb2R1bGVzKS5sZW5ndGggIT09IHNvcnRlZE5hbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5ldmVudHMudHJpZ2dlcignbW9kdWxlcy5lcnJvci5jeWNsZScpO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5sb2dnZXIuZXJyb3IoJ0RlcGVuZGVuY3kgY3ljbGUgZm91bmQgaW4gbW9kdWxlcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc29ydGVkTmFtZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWxsRGVwZW5kZW5jaWVzTWV0IChsb2FkZWRVbnRpbE5vdywgbW9kdWxlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUuZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBpZiAobG9hZGVkVW50aWxOb3cuaW5kZXhPZihtb2R1bGUuZGVwZW5kZW5jaWVzW2ldKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufSkoKSk7XHJcbiIsIigoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIENvYndlYi5wcm90b3R5cGUubW9kdWxlcy5hZGQoJ3BhbmUtaGVhZGVyJywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuZXZlbnRzLm9uKCdwYW5lLmNyZWF0ZScsIGZ1bmN0aW9uIChwYW5lKSB7XHJcbiAgICAgICAgICAgIG9uQ3JlYXRlQ2FsbGJhY2socGFuZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgWydwYW5lLXR5cGVzJ10pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uQ3JlYXRlQ2FsbGJhY2sgKHBhbmUsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlciA9IGNyZWF0ZUhlYWRlcigpO1xyXG4gICAgICAgIHBhbmUuYXBwZW5kKGhlYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlSGVhZGVyICgpIHtcclxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9ICdwYW5lLWhlYWRlcic7XHJcbiAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgIH1cclxufSkoKSk7XHJcbiIsIigoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIENvYndlYi5wcm90b3R5cGUubW9kdWxlcy5hZGQoJ3BhbmUtdHlwZXMnLCBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgcGFuZVR5cGVzID0ge1xyXG4gICAgICAgICAgICBhbGw6IHt9LFxyXG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWxsW25hbWVdID0gY2FsbGJhY2tzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxbbmFtZV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFsbFtuYW1lXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5hbGxbbmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5ldmVudHMub24oJ3BhbmUuc3BsaXQnLCBmdW5jdGlvbiAob2xkUGFuZSwgbmV3UGFuZSkge1xyXG4gICAgICAgICAgICB2YXIgb2xkVHlwZSA9IG9sZFBhbmUuYXR0ckRhdGEoJ3BhbmUtdHlwZScpO1xyXG4gICAgICAgICAgICBpZiAob2xkVHlwZSkgaW5zdGFuY2UucGFuZS5zZXRUeXBlKG5ld1BhbmUsIG9sZFR5cGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5wYW5lLnR5cGVzID0gcGFuZVR5cGVzO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5wYW5lLnNldFR5cGUgPSBmdW5jdGlvbiAocGFuZSwgbmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlQ2FsbGJhY2tzID0gdGhpcy50eXBlcy5nZXQobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0eXBlQ2FsbGJhY2tzLm9uUGFuZVR5cGUocGFuZSwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhbmVIZWFkZXIgPSBwYW5lLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lLWhlYWRlcicpO1xyXG4gICAgICAgICAgICAgICAgdHlwZUNhbGxiYWNrcy5vbkNyZWF0ZUhlYWRlcihwYW5lSGVhZGVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICBwYW5lLmRhdGFzZXQucGFuZVR5cGUgPSBuYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaW5zdGFuY2UucGFuZS5nZXRUeXBlID0gZnVuY3Rpb24gKHBhbmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhbmUuZGF0YXNldC5wYW5lVHlwZTtcclxuICAgICAgICB9O1xyXG4gICAgfSwgWydwYW5lJ10pO1xyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgncGFuZScsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGluc3RhbmNlLmV2ZW50cy5vbignYXBwLmxvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UucGFuZS5pbnRlcm5hbCA9IG5ldyBQYW5lKHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogaW5zdGFuY2Uub3B0aW9ucy5jb250YWluZXIuc2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IHtcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAzXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25QYW5lQ3JlYXRlOiBvblBhbmVDcmVhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgb25QYW5lU3BsaXQ6IG9uUGFuZVNwbGl0LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uUGFuZVJlc2l6ZTogb25QYW5lUmVzaXplLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vb25QYW5lTWVyZ2U6IG9uUGFuZU1lcmdlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vb25QYW5lRGVzdHJveTogb25QYW5lRGVzdHJveSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcm9vdCA9IGluc3RhbmNlLnBhbmUuaW50ZXJuYWwuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lJyk7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnBhbmUuc2V0VHlwZShyb290LCAnc3VyZmFjZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5wYW5lID0ge307XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uUGFuZUNyZWF0ZSAocGFuZSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5ldmVudHMudHJpZ2dlcigncGFuZS5jcmVhdGUnLCBwYW5lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uUGFuZVNwbGl0IChvcmlnaW4sIG5ld1BhbmUpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UuZXZlbnRzLnRyaWdnZXIoJ3BhbmUuc3BsaXQnLCBvcmlnaW4sIG5ld1BhbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25QYW5lUmVzaXplIChwYW5lKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmV2ZW50cy50cmlnZ2VyKCdwYW5lLnJlc2l6ZScsIHBhbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25QYW5lTWVyZ2UgKG1lcmdlciwgdG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1Zygnb25QYW5lTWVyZ2UnLCBtZXJnZXIsIHRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uUGFuZURlc3Ryb3kgKHBhbmUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1Zygnb25QYW5lRGVzdHJveScsIHBhbmUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgnaW50ZXJhY3Rpb24tbW9kZScsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGluc3RhbmNlLnN1cmZhY2UuaW50ZXJhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgIGFsbDoge30sXHJcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxbbmFtZV0gPSBjYWxsYmFja3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbFtuYW1lXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWxsW25hbWVdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoYXM6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISF0aGlzLmFsbFtuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9LCBbJ3N1cmZhY2UnXSk7XHJcbn0pKCkpO1xyXG4iLCIoKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBDb2J3ZWIucHJvdG90eXBlLm1vZHVsZXMuYWRkKCdyZW5kZXItbW9kZXMnLCBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICBpbnN0YW5jZS5zdXJmYWNlLnJlbmRlcnMgPSB7XHJcbiAgICAgICAgICAgIGFsbDoge30sXHJcbiAgICAgICAgICAgIGFkZDogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFsbFtuYW1lXSA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxbbmFtZV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFsbFtuYW1lXTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFzOiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5hbGxbbmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSwgWydzdXJmYWNlJ10pO1xyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIHN1cmZhY2VJbmRleCA9IDA7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgnc3VyZmFjZScsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGluc3RhbmNlLnBhbmUudHlwZXMuYWRkKCdzdXJmYWNlJywge1xyXG4gICAgICAgICAgICBvblBhbmVUeXBlOiBvblN1cmZhY2VQYW5lVHlwZSxcclxuICAgICAgICAgICAgb25DcmVhdGVIZWFkZXI6IG9uQ3JlYXRlU3VyZmFjZUhlYWRlclxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5ldmVudHMub24oJ3BhbmUucmVzaXplJywgZnVuY3Rpb24gKHBhbmUpIHtcclxuICAgICAgICAgICAgaWYgKHBhbmUuYXR0ckRhdGEoJ3BhbmUtdHlwZScpID09PSAnc3VyZmFjZScpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYW52YXNTaXplKGluc3RhbmNlLCBwYW5lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgc3VyZmFjZXMgPSBpbnN0YW5jZS5wYW5lLmludGVybmFsLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYW5lIGNhbnZhcycpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1cmZhY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDYW52YXNTaXplKGluc3RhbmNlLCBzdXJmYWNlc1tpXS5wYXJlbnROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5zdXJmYWNlID0ge307XHJcbiAgICB9LCBbJ3BhbmUtdHlwZXMnXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb25TdXJmYWNlUGFuZVR5cGUgKHBhbmUsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy5pZCA9ICdzdXJmYWNlJyArIChzdXJmYWNlSW5kZXgrKyk7XHJcbiAgICAgICAgY2FudmFzLmNsYXNzTmFtZSA9ICdzdXJmYWNlJztcclxuICAgICAgICBwYW5lLmFwcGVuZChjYW52YXMpO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5zdXJmYWNlLm1hcCA9IGluc3RhbmNlLnN1cmZhY2UubWFwIHx8IHt9O1xyXG4gICAgICAgIGluc3RhbmNlLnN1cmZhY2UubWFwW2NhbnZhcy5pZF0gPSB7fTtcclxuICAgICAgICBpbnN0YW5jZS5zdXJmYWNlLm1hcFtjYW52YXMuaWRdLnN1cmZhY2UgPSB7XHJcbiAgICAgICAgICAgIHByb2o6IG1hdDQuY3JlYXRlKCksXHJcbiAgICAgICAgICAgIGNlbnRlcjogWzAsIDAsIDBdLFxyXG4gICAgICAgICAgICByb3RhdGlvbjogWzAuOSwgLTAuNF0sXHJcbiAgICAgICAgICAgIGRpc3RhbmNlOiAxMCxcclxuICAgICAgICAgICAgZ2V0Vmlld01hdHJpeDogZnVuY3Rpb24gKHZpZXcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBleWUgPSBbMCwgMCwgMF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENhbWVyYVBvc2l0aW9uKGV5ZSk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0Lmxvb2tBdCh2aWV3LCBleWUsIHRoaXMuY2VudGVyLCBbMCwgMSwgMF0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRDYW1lcmFQb3NpdGlvbjogZnVuY3Rpb24gKGV5ZSkge1xyXG4gICAgICAgICAgICAgICAgZXllWzJdID0gLXRoaXMuZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnJvdGF0ZVgoZXllLCBleWUsIHRoaXMucm90YXRpb25bMV0pO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5yb3RhdGVZKGV5ZSwgZXllLCAtdGhpcy5yb3RhdGlvblswXSk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLmFkZChleWUsIGV5ZSwgdGhpcy5jZW50ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdXBkYXRlQ2FudmFzU2l6ZShpbnN0YW5jZSwgcGFuZSk7XHJcblxyXG4gICAgICAgIGluc3RhbmNlLmV2ZW50cy50cmlnZ2VyKCdzdXJmYWNlLmNyZWF0ZScsIGNhbnZhcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25DcmVhdGVTdXJmYWNlSGVhZGVyIChoZWFkZXIsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSAnU3VyZmFjZSBQYW5lJztcclxuICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNhbnZhc1NpemUgKGluc3RhbmNlLCBwYW5lKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IHBhbmUucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB2YXIgZGF0YSA9IGluc3RhbmNlLnN1cmZhY2UubWFwW2NhbnZhcy5pZF07XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXIgPSBwYW5lLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lLWhlYWRlcicpO1xyXG4gICAgICAgIHZhciBoZWFkZXJIZWlnaHQgPSBoZWFkZXIgPyBoZWFkZXIuaGVpZ2h0KCkgOiAwO1xyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSBwYW5lLndpZHRoKCksIGhlaWdodCA9IHBhbmUuaGVpZ2h0KCkgLSBoZWFkZXJIZWlnaHQ7XHJcbiAgICAgICAgZGF0YS5pbWdEYXRhID0gY29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgZGF0YS5idWZmZXIgPSBuZXcgVWludDhBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xyXG5cclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG5cclxuICAgICAgICBtYXQ0LnBlcnNwZWN0aXZlKGRhdGEuc3VyZmFjZS5wcm9qLCA0NSAqIERFRzJSQUQsIHdpZHRoIC8gaGVpZ2h0LCAwLjEsIDEwMDApO1xyXG4gICAgfVxyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIG9yaWdpbmFsUm90YXRpb24gPSBudWxsO1xyXG4gICAgdmFyIG1vdXNlRG93bkNvb3JkcyA9IG51bGw7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgnY29tbW9uLWludGVyYWN0aW9uJywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc3VyZmFjZS5pbnRlcmFjdGlvbi5hZGQoJ2NvbW1vbicsIHtcbiAgICAgICAgICAgIG9uTW91c2VXaGVlbDogZnVuY3Rpb24gKGV2ZW50LCByZWFsQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIChldmVudC53aGVlbERlbHRhIHx8IC1ldmVudC5kZXRhaWwpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBpbnN0YW5jZS5zdXJmYWNlLm1hcFtjYW52YXMuaWRdO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5zdXJmYWNlLmRpc3RhbmNlIC09IGRlbHRhO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChldmVudCwgcmVhbENvb3Jkcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0Lm1vdmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBpbnN0YW5jZS5zdXJmYWNlLm1hcFtjYW52YXMuaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGdldENvb3Jkc0RlbHRhKG1vdXNlRG93bkNvb3JkcywgcmVhbENvb3Jkcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJpbmUoZGF0YS5zdXJmYWNlLnJvdGF0aW9uLCBvcmlnaW5hbFJvdGF0aW9uLCBkZWx0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gKGV2ZW50LCByZWFsQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuZGF0YXNldC5tb3ZpbmcgPSAndHJ1ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGluc3RhbmNlLnN1cmZhY2UubWFwW2NhbnZhcy5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxSb3RhdGlvbiA9IGRhdGEuc3VyZmFjZS5yb3RhdGlvbi5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlRG93bkNvb3JkcyA9IHJlYWxDb29yZHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Nb3VzZVVwOiBmdW5jdGlvbiAoZXZlbnQsIHJlYWxDb29yZHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudC50YXJnZXQuZGF0YXNldC5tb3Zpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGluc3RhbmNlLnN1cmZhY2UubWFwW2NhbnZhcy5pZF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZ2V0Q29vcmRzRGVsdGEobW91c2VEb3duQ29vcmRzLCByZWFsQ29vcmRzKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21iaW5lKGRhdGEuc3VyZmFjZS5yb3RhdGlvbiwgb3JpZ2luYWxSb3RhdGlvbiwgZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlRG93bkNvb3JkcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKGV2ZW50LCByZWFsQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgWydzdXJmYWNlLWludGVyYWN0aW9uJ10pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbWJpbmUgKHRhcmdldCwgb3JpZ2luYWxSb3RhdGlvbiwgZGVsdGEpIHtcclxuICAgICAgICBpZiAoIW9yaWdpbmFsUm90YXRpb24pIHJldHVybjtcclxuICAgICAgICB0YXJnZXRbMF0gPSBvcmlnaW5hbFJvdGF0aW9uWzBdICsgZGVsdGFbMF0gKiAwLjAwNTtcclxuICAgICAgICB0YXJnZXRbMV0gPSBvcmlnaW5hbFJvdGF0aW9uWzFdICsgZGVsdGFbMV0gKiAwLjAwNTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb29yZHNEZWx0YSAoaW5pdGlhbCwgY3VycmVudCkge1xyXG4gICAgICAgIGlmICghaW5pdGlhbCkgcmV0dXJuIFswLCAwXTtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBpbml0aWFsWzBdIC0gY3VycmVudFswXSxcclxuICAgICAgICAgICAgaW5pdGlhbFsxXSAtIGN1cnJlbnRbMV1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgnb2JqZWN0LWludGVyYWN0aW9uJywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc3VyZmFjZS5pbnRlcmFjdGlvbi5hZGQoJ29iamVjdCcsIHtcclxuICAgICAgICAgICAgb25Nb3VzZVdoZWVsOiBmdW5jdGlvbiAoZXZlbnQsIHJlYWxDb29yZHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbk1vdXNlTW92ZTogZnVuY3Rpb24gKGV2ZW50LCByZWFsQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIChldmVudCwgcmVhbENvb3Jkcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uTW91c2VVcDogZnVuY3Rpb24gKGV2ZW50LCByZWFsQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKGV2ZW50LCByZWFsQ29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5ldmVudHMub24oJ3N1cmZhY2UuY3JlYXRlJywgZnVuY3Rpb24gKHN1cmZhY2UpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2Uuc3VyZmFjZS5zZXRJbnRlcmFjdGlvbihzdXJmYWNlLCAnb2JqZWN0Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSwgWydzdXJmYWNlLWludGVyYWN0aW9uJ10pO1xyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgnc3VyZmFjZS1pbnRlcmFjdGlvbicsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGluc3RhbmNlLnN1cmZhY2Uuc2V0SW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoc3VyZmFjZSwgbmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25zID0gaW5zdGFuY2Uuc3VyZmFjZS5pbnRlcmFjdGlvbjtcclxuICAgICAgICAgICAgaWYgKGludGVyYWN0aW9ucy5oYXMobmFtZSkpXHJcbiAgICAgICAgICAgICAgICBzdXJmYWNlLmF0dHJEYXRhKCdzdXJmYWNlLWludGVyYWN0aW9uJywgbmFtZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaW5zdGFuY2Uuc3VyZmFjZS5nZXRJbnRlcmFjdGlvbiA9IGZ1bmN0aW9uIChzdXJmYWNlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbnMgPSBpbnN0YW5jZS5zdXJmYWNlLmludGVyYWN0aW9uO1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IHN1cmZhY2UuYXR0ckRhdGEoJ3N1cmZhY2UtaW50ZXJhY3Rpb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGludGVyYWN0aW9ucy5nZXQobmFtZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaW5zdGFuY2UuZXZlbnRzLm9uKCdzdXJmYWNlLmNyZWF0ZScsIGZ1bmN0aW9uIChzdXJmYWNlKSB7XHJcbiAgICAgICAgICAgIHN1cmZhY2Uub25tb3VzZXdoZWVsID0gb25TdXJmYWNlRXZlbnQ7XHJcbiAgICAgICAgICAgIHN1cmZhY2Uub25tb3VzZW1vdmUgPSBvblN1cmZhY2VFdmVudDtcclxuICAgICAgICAgICAgc3VyZmFjZS5vbm1vdXNlZG93biA9IG9uU3VyZmFjZUV2ZW50O1xyXG4gICAgICAgICAgICBzdXJmYWNlLm9ubW91c2V1cCA9IG9uU3VyZmFjZUV2ZW50O1xyXG4gICAgICAgICAgICBzdXJmYWNlLm9uY2xpY2sgPSBvblN1cmZhY2VFdmVudDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25TdXJmYWNlRXZlbnQgKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBpbnN0YW5jZS5zdXJmYWNlLmdldEludGVyYWN0aW9uKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBrZWVwUnVubmluZyA9IHJ1bkNhbGxiYWNrKGNhbGxiYWNrcywgZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoa2VlcFJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb21tb24gPSBpbnN0YW5jZS5zdXJmYWNlLmludGVyYWN0aW9uLmdldCgnY29tbW9uJyk7XHJcbiAgICAgICAgICAgICAgICBydW5DYWxsYmFjayhjb21tb24sIGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFuY2UuZXZlbnRzLm9uKCdwYW5lLnNwbGl0JywgZnVuY3Rpb24gKG9sZFBhbmUsIG5ld1BhbmUpIHtcclxuICAgICAgICAgICAgbmV3UGFuZS5hdHRyRGF0YSgnc3VyZmFjZS1pbnRlcmFjdGlvbicsIG9sZFBhbmUuYXR0ckRhdGEoJ3N1cmZhY2UtaW50ZXJhY3Rpb24nKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbJ2ludGVyYWN0aW9uLW1vZGUnXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcnVuQ2FsbGJhY2sgKGNhbGxiYWNrcywgZXZlbnQpIHtcclxuICAgICAgICB2YXIgcmVhbENvb3JkcyA9IGdldExvY2FsQ29vcmRpbmF0ZXMoZXZlbnQpO1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdtb3VzZXdoZWVsJzogcmV0dXJuIGNhbGxiYWNrcy5vbk1vdXNlV2hlZWwoZXZlbnQsIHJlYWxDb29yZHMpO1xyXG4gICAgICAgICAgICBjYXNlICdtb3VzZW1vdmUnOiByZXR1cm4gY2FsbGJhY2tzLm9uTW91c2VNb3ZlKGV2ZW50LCByZWFsQ29vcmRzKTtcclxuICAgICAgICAgICAgY2FzZSAnbW91c2Vkb3duJzogcmV0dXJuIGNhbGxiYWNrcy5vbk1vdXNlRG93bihldmVudCwgcmVhbENvb3Jkcyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ21vdXNldXAnOiByZXR1cm4gY2FsbGJhY2tzLm9uTW91c2VVcChldmVudCwgcmVhbENvb3Jkcyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzogcmV0dXJuIGNhbGxiYWNrcy5vbkNsaWNrKGV2ZW50LCByZWFsQ29vcmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TG9jYWxDb29yZGluYXRlcyAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgaWYgKGV2ZW50LnBhZ2VYIHx8IGV2ZW50LnBhZ2VZKSB7XHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gW2V2ZW50LnBhZ2VYLCBldmVudC5wYWdlWV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSBbXHJcbiAgICAgICAgICAgICAgICBldmVudC5jbGllbnRYICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXHJcbiAgICAgICAgICAgICAgICBldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvb3JkaW5hdGVzWzBdIC09IGV2ZW50LnRhcmdldC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgIGNvb3JkaW5hdGVzWzFdIC09IGV2ZW50LnRhcmdldC5vZmZzZXRUb3A7XHJcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGVzO1xyXG4gICAgfVxyXG59KSgpKTtcclxuIiwiKChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgQ29id2ViLnByb3RvdHlwZS5tb2R1bGVzLmFkZCgncmVuZGVyLXNvbGlkJywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIHNoYWRlciA9IG5ldyBTaGFkZXIoXHJcbiAgICAgICAgICAgICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7JyArXHJcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjMyBhX3ZlcnRleDsnICtcclxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsOycgK1xyXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMzIHZfbm9ybWFsOycgK1xyXG4gICAgICAgICAgICAndW5pZm9ybSBtYXQ0IHVfbXZwOycgK1xyXG4gICAgICAgICAgICAndW5pZm9ybSBtYXQ0IHVfbW9kZWw7JyArXHJcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7JyArXHJcbiAgICAgICAgICAgICcgICAgdl9ub3JtYWwgPSAodV9tb2RlbCAqIHZlYzQoYV9ub3JtYWwsMC4wKSkueHl6OycgK1xyXG4gICAgICAgICAgICAnICAgIGdsX1Bvc2l0aW9uID0gdV9tdnAgKiB2ZWM0KGFfdmVydGV4LDEuMCk7JyArXHJcbiAgICAgICAgICAgICd9JyxcclxuICAgICAgICAgICAgJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDsnICtcclxuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMyB2X25vcm1hbDsnICtcclxuICAgICAgICAgICAgJ3VuaWZvcm0gdmVjMyB1X2xpZ2h0dmVjdG9yOycgK1xyXG4gICAgICAgICAgICAndW5pZm9ybSB2ZWM0IHVfY29sb3I7JyArXHJcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7JyArXHJcbiAgICAgICAgICAgICcgIHZlYzMgTiA9IG5vcm1hbGl6ZSh2X25vcm1hbCk7JyArXHJcbiAgICAgICAgICAgICcgIHZlYzQgYW1iaWVudCA9IHZlYzQoMC40LCAwLjQsIDAuNCwgMSk7JyArXHJcbiAgICAgICAgICAgICcgIGdsX0ZyYWdDb2xvciA9IGFtYmllbnQgKyB1X2NvbG9yICogbWF4KDAuMCwgZG90KHVfbGlnaHR2ZWN0b3IsTikpOycgK1xyXG4gICAgICAgICAgICAnfSdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB2YXIgdGVtcCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgdmFyIG12cCA9IG1hdDQuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcclxuICAgICAgICAgICAgdV9jb2xvcjogWzAuNywgMC43LCAwLjcsIDFdLFxyXG4gICAgICAgICAgICB1X2xpZ2h0dmVjdG9yOiBudWxsLFxyXG4gICAgICAgICAgICB1X21vZGVsOiBudWxsLFxyXG4gICAgICAgICAgICB1X212cDogbXZwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaW5zdGFuY2Uuc3VyZmFjZS5yZW5kZXJzLmFkZCgnc29saWQnLCBmdW5jdGlvbiAoc3VyZmFjZSkge1xyXG4gICAgICAgICAgICB2YXIgb2JqcyA9IGluc3RhbmNlLnNjZW5lLnJvb3QuZGZzKCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2Jqcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IG9ianNbaV0uZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGlnaHREaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cmZhY2UuZ2V0Q2FtZXJhUG9zaXRpb24obGlnaHREaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZlYzMuYWRkKGxpZ2h0RGlyZWN0aW9uLCBsaWdodERpcmVjdGlvbiwgWzEsIDIsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShsaWdodERpcmVjdGlvbiwgbGlnaHREaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zLnVfbGlnaHR2ZWN0b3IgPSBsaWdodERpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VyZmFjZS5nZXRWaWV3TWF0cml4KHRlbXApO1xyXG4gICAgICAgIFx0XHRcdG1hdDQubXVsdGlwbHkodGVtcCwgdGVtcCwgb2JqLm1vZGVsKTtcclxuICAgICAgICBcdFx0XHRtYXQ0Lm11bHRpcGx5KG12cCwgc3VyZmFjZS5wcm9qLCB0ZW1wKTtcclxuXHJcbiAgICAgICAgXHRcdFx0dW5pZm9ybXMudV9tb2RlbCA9IG9iai5tb2RlbDtcclxuICAgICAgICBcdFx0XHRzaGFkZXIudW5pZm9ybXModW5pZm9ybXMpLmRyYXcob2JqLm1lc2gsIG9iai5wcmltaXRpdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluc3RhbmNlLmV2ZW50cy5vbignc3VyZmFjZS5jcmVhdGUnLCBmdW5jdGlvbiAoc3VyZmFjZSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5zdXJmYWNlLnNldFJlbmRlcihzdXJmYWNlLCAnc29saWQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIFsnc3VyZmFjZS1yZW5kZXInXSk7XHJcbn0pKCkpO1xyXG4iLCIoKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBDb2J3ZWIucHJvdG90eXBlLm1vZHVsZXMuYWRkKCdzdXJmYWNlLXJlbmRlcicsIGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGluc3RhbmNlLnN1cmZhY2Uuc2V0UmVuZGVyID0gZnVuY3Rpb24gKHN1cmZhY2UsIG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlbmRlcnMgPSBpbnN0YW5jZS5zdXJmYWNlLnJlbmRlcnM7XHJcbiAgICAgICAgICAgIGlmIChyZW5kZXJzLmhhcyhuYW1lKSlcclxuICAgICAgICAgICAgICAgIHN1cmZhY2UuYXR0ckRhdGEoJ3JlbmRlcicsIG5hbWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGluc3RhbmNlLnN1cmZhY2UuZ2V0UmVuZGVyID0gZnVuY3Rpb24gKHN1cmZhY2UpIHtcclxuICAgICAgICAgICAgdmFyIHJlbmRlcnMgPSBpbnN0YW5jZS5zdXJmYWNlLnJlbmRlcnM7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gc3VyZmFjZS5hdHRyRGF0YSgncmVuZGVyJyk7XHJcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJzLmdldChuYW1lKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgcGFuZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFuZScpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHBhbmVzW2ldLmRhdGFzZXQucGFuZVR5cGUgPT0gJ3N1cmZhY2UnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gcGFuZXNbaV0ucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuZGF0YXNldC5yZW5kZXIgPSAnc29saWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnN0YW5jZS5ldmVudHMub24oJ3BhbmUuc3BsaXQnLCBmdW5jdGlvbiAob2xkUGFuZSwgbmV3UGFuZSkge1xyXG4gICAgICAgICAgICBuZXdQYW5lLmF0dHJEYXRhKCdzdXJmYWNlLXJlbmRlcicsIG9sZFBhbmUuYXR0ckRhdGEoJ3N1cmZhY2UtcmVuZGVyJykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgWydyZW5kZXItbW9kZXMnXSk7XHJcbn0pKCkpO1xyXG4iLCIoKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgR3JhcGhpY3MgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB0aGlzLmdsID0gR0wuY3JlYXRlKHtcclxuICAgICAgICAgICAgaGVpZ2h0OiBzY3JlZW4uaGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogc2NyZWVuLndpZHRoXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nbC5hbmltYXRlKCk7XHJcbiAgICAgICAgdGhpcy5nbC5vbmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVuZGVyVGFyZ2V0cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIGRyYXdSZW5kZXJUYXJnZXQoaW5zdGFuY2UsIHJlbmRlclRhcmdldHNbaV0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAuMzQ5LCAwLjM0OSwgMC4zNDksIDEpO1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlKHRoaXMuZ2wuREVQVEhfVEVTVCk7XHJcbiAgICB9O1xyXG5cclxuICAgIENvYndlYi5wcm90b3R5cGUubW9kdWxlcy5hZGQoJ2dyYXBoaWNzJywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuZ3JhcGhpY3MgPSBuZXcgR3JhcGhpY3MoaW5zdGFuY2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhd1JlbmRlclRhcmdldCAoaW5zdGFuY2UsIGNhbnZhcykge1xyXG4gICAgICAgIHZhciBkYXRhID0gaW5zdGFuY2Uuc3VyZmFjZS5tYXBbY2FudmFzLmlkXTtcclxuICAgICAgICB2YXIgZ2wgPSBpbnN0YW5jZS5ncmFwaGljcy5nbDtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoICA9IGNhbnZhcy5jbGllbnRXaWR0aCwgaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIHZhciByZW5kZXIgPSBpbnN0YW5jZS5zdXJmYWNlLmdldFJlbmRlcihjYW52YXMpO1xyXG4gICAgICAgIGlmIChyZW5kZXIpIHJlbmRlcihkYXRhLnN1cmZhY2UpO1xyXG5cclxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMoMCwgMCwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgZGF0YS5idWZmZXIpO1xyXG4gICAgICAgICAgICBkYXRhLmltZ0RhdGEuZGF0YS5zZXQoZGF0YS5idWZmZXIpO1xyXG4gICAgICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShkYXRhLmltZ0RhdGEsIDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKSk7XHJcbiIsIigoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIENvYndlYi5wcm90b3R5cGUubW9kdWxlcy5hZGQoJ3NjZW5lJywgZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgaW5zdGFuY2Uuc2NlbmUgPSB7XHJcbiAgICAgICAgICAgIHJvb3Q6IFRyZWVOb2RlLmV4dGVuZCh7fSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpbnN0YW5jZS5zY2VuZS5yb290LmFkZCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxyXG4gICAgICAgICAgICBwcmltaXRpdmU6IGluc3RhbmNlLmdyYXBoaWNzLmdsLlRSSUFOR0xFUyxcclxuICAgICAgICAgICAgbWVzaDogR0wuTWVzaC5jdWJlKCksXHJcbiAgICAgICAgICAgIG1vZGVsOiBtYXQ0LmNyZWF0ZSgpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGluc3RhbmNlLnNjZW5lLnJvb3QuYWRkKHtcclxuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXHJcbiAgICAgICAgICAgIHByaW1pdGl2ZTogaW5zdGFuY2UuZ3JhcGhpY3MuZ2wuTElORVMsXHJcbiAgICAgICAgICAgIG1lc2g6IEdMLk1lc2guZ3JpZCh7XHJcbiAgICAgICAgICAgICAgICBsaW5lczogMTcsXHJcbiAgICAgICAgICAgICAgICBzaXplOiA4XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBtb2RlbDogbWF0NC5jcmVhdGUoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpbnN0YW5jZS5zY2VuZS5yb290LmFkZCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdsaWd0aCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiBbMSwgMSwgMV0sXHJcbiAgICAgICAgICAgIGludGVuc2l0eTogMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgWydncmFwaGljcyddKTtcclxufSkoKSk7XHJcbiJdfQ==
