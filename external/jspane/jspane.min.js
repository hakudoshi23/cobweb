!function(){"use strict";function e(e,t,a){var i=t.parentNode,r=i.className.indexOf("pane-group")!=-1,s=i.dataset.axis===a;return r&&s||(i=n(a),u(t,i),i.append(t),e.setDimensions(i,e.getDimensions(t)),e.setDimensions(t,[100,100])),i}function t(e,t,n){var a=t.parentNode,i=a.className.indexOf("pane-group")!=-1,r=1===a.children.length;i&&r&&(e.setDimensions(t,e.getDimensions(a)),u(a,t))}function n(e){var t=document.createElement("div");return t.className="pane pane-group",t.dataset.axis=e,t}function a(e){var t=document.createElement("div");return t.className="pane-anchor",t.addEventListener("mousedown",e),t.dataset.delta=JSON.stringify([0,0]),t}function i(e,t){var n=p(e);return[n[0]-t.pageX,n[1]-t.pageY]}function r(e,t,n){var a=s(t,n);e.className=e.className.replace(/\s+action-\w*/,""),a&&(e.className+=" action-"+a)}function s(e,t){if(!(e[0]>t||e[1]>t||e[0]<-t||e[1]<-t))return"";var n=e[0]>=e[1],a=e[0]>=-e[1];return n&&a?"left":n||a?!n&&a?"up":n&&!a?"down":void 0:"right"}function o(e,t,n){var a=t.parentNode,i=d(n),r=parseFloat(t.dataset.delta),s=100*r/l(a,n),o=t.previousSibling,c=t.nextSibling,p=e.getDimensions(o),u=e.getDimensions(c);p[i]+=s,u[i]-=s,e.setDimensions(o,p),e.setDimensions(c,u)}function c(e,t){var n=e.options.callbacks[t];if(n){var a=Array.prototype.slice.call(arguments,2);n.apply(null,a)}}function p(e){var t=e.getBoundingClientRect();return[t.left+t.width/2,t.top+t.height/2]}function l(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1),a="client"+n;return e[a]}function u(e,t){var n=e.parentNode;n.insertBefore(t,e),n.removeChild(e)}function d(e){return"width"===e?0:"height"===e?1:void 0}function h(e,t){for(var n in t)if(n&&t.hasOwnProperty(n)){var a=t[n];"object"==typeof a?h(e[n],t[n]):e[n]=t[n]}}var g={container:"#jspane",anchor:{treshhold:20},separator:{size:5},callbacks:{onPaneCreate:null,onPaneSplit:null,onPaneResize:null,onPaneMerge:null,onPaneDestroy:null}},f=function(n){function p(){var e=document.createElement("div");return e.className="pane",e.append(a(u)),v.setDimensions(e,[100,100]),e}function l(e,t){var n=document.createElement("div");n.addEventListener("mousedown",m);var a=d(t)?"ns":"ew";return n.style.cursor=a+"-resize",n.className="pane-separator",n.style[t]=e+"px",n}function u(e){v.current.anchor=e.target}function m(e){var t=e.target;v.current.separator=t;var n=t.parentNode,a=n.dataset.axis,i=[e.pageX,e.pageY],r=i[d(a)];t.dataset.initial=JSON.stringify(r)}this.fn=f.prototype;var v=this;this.options=g,h(g,n);var y=this.options.container;this.container=document.querySelector(y),this.current={separator:null,anchor:null};var D=p();this.container.append(D),c(v,"onPaneCreate",D),document.addEventListener("mousemove",function(e){var t=0;if(v.current.anchor){var n=v.current.anchor;t=i(n,e),n.dataset.delta=JSON.stringify(t),r(n,t,v.options.anchor.treshhold)}if(v.current.separator){var a=v.current.separator,s=a.parentNode,c=s.dataset.axis,p=[e.clientX,e.clientY],l=JSON.parse(a.dataset.initial);t=p[d(c)]-l,a.dataset.delta=t,o(v,a,c,t),a.dataset.initial=JSON.stringify(l+t)}}),document.addEventListener("mouseup",function(e){if(v.current.separator&&(v.current.separator=null),v.current.anchor){var t=v.current.anchor,n=JSON.parse(t.dataset.delta),a=t.parentNode;switch(s(n,v.options.anchor.treshhold)){case"left":v.split(a,"width");break;case"right":v.merge(a,"width");break;case"up":v.split(a,"height");break;case"down":v.merge(a,"height")}var i=t.className.replace(/\s+action-\w*/,"");t.dataset.delta=JSON.stringify([0,0]),t.className=i,v.current.anchor=null}}),this.split=function(t,n){var a=e(v,t,n),i=p(),r=l(v.options.separator.size,n),s=d(n),o=v.getDimensions(t),u=v.getDimensions(i);u[s]=o[s]/2,o[s]=o[s]/2,a.insertBefore(i,t.nextSibling),a.insertBefore(r,t.nextSibling),v.setDimensions(t,o),v.setDimensions(i,u),v.updateGroupDimensions(a),c(v,"onPaneCreate",i),c(v,"onPaneSplit",t,i)},this.merge=function(e,n){if(e.nextSibling){var a=e.parentNode;if(a.dataset.axis===n){var i=e.nextSibling.nextSibling;c(v,"onPaneMerge",e,i),c(v,"onPaneDestroy",i);var r=v.getDimensions(e),s=v.getDimensions(i);a.removeChild(e.nextSibling),a.removeChild(e.nextSibling);var o=d(n);r[o]+=s[o],v.setDimensions(e,r),t(v,e,n),v.updateGroupDimensions(e.parentNode)}}}};f.prototype.setDimensions=function(e,t){var n=JSON.stringify(t);e.dataset.dimensions=n;var a=this.getGroup(e);if(null===a)e.style.width="calc(100% - 0px)",e.style.height="calc(100% - 0px)",c(this,"onPaneResize",e);else{var i=this.getPanes(a),r=this.getSeparatorsSize(a),s=a.dataset.axis,o=[0,0];i.length>0&&(o[d(s)]=r/i.length);var p="calc("+t[0]+"% - "+o[0]+"px)",l="calc("+t[1]+"% - "+o[1]+"px)",u=e.style.width!=p||e.style.height!=l;if(e.style.width=p,e.style.height=l,u&&(c(this,"onPaneResize",e),e.className.indexOf("pane-group")>-1))for(var h=this.getAllPanes(e),g=0;g<h.length;g++)c(this,"onPaneResize",h[g])}},f.prototype.updateDimensions=function(e){this.setDimensions(e,this.getDimensions(e))},f.prototype.getDimensions=function(e){return JSON.parse(e.dataset.dimensions)},f.prototype.getGroup=function(e){var t=e.parentNode;if(t){var n=t.className.indexOf("pane-group")!=-1;if(n)return t}return null},f.prototype.updateGroupDimensions=function(e){for(var t=this.getPanes(e),n=0;n<t.length;n++)this.updateDimensions(t[n])},f.prototype.getPanes=function(e){return e.querySelectorAll(":scope > .pane")},f.prototype.getAllPanes=function(e){return e.querySelectorAll(".pane")},f.prototype.getSeparators=function(e){return e.querySelectorAll(":scope > .pane-separator")},f.prototype.getSeparatorsSize=function(e){if(!e)return 0;for(var t=0,n=e.dataset.axis,a=this.getSeparators(e),i=0;i<a.length;i++)t+=l(a[i],n);return t},f.prototype.setGroupDimensions=function(e,t){for(var n=e.dataset.axis,a=this.getPanes(e),i=d(n),r=0;r<a.length;r++){var s=a[r],o=this.getDimensions(s);o[i]=t[r],this.setDimensions(s,o)}},f.prototype.getGroupDimensions=function(e){for(var t=[],n=e.dataset.axis,a=this.getPanes(e),i=d(n),r=0;r<a.length;r++){var s=a[r],o=this.getDimensions(s);t.push(o[i])}return t},window.Pane=f}();
//# sourceMappingURL=jspane.min.js.map
